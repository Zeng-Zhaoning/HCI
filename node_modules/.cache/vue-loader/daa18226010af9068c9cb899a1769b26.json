{"remainingRequest":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\QAPanel.vue?vue&type=template&id=748b59f4&scoped=true","dependencies":[{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\QAPanel.vue","mtime":1639746540705},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639148470021},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js","mtime":1639148468681},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1639551855761},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639148470021},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639551855693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0icWEtcGFuZWwiPgogICAgPGRpdiBjbGFzcz0idGl0bGUtYm94Ij4KICAgICAgPGRpdiBzdHlsZT0ibWluLXdpZHRoOiA2MHB4OyI+5pm66IO96Zeu562UPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InFhLWJ1dHRvbiIgQGNsaWNrPSJjaGFuZ2VTaG93UUFQYW5lbCI+CiAgICAgICAgPHN2ZyBjbGFzcz0iaWNvbi1jbG9zZSI+CiAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNpY29uZ3VhbmJpIj48L3VzZT4KICAgICAgICA8L3N2Zz4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlLWJveCI+CiAgICAgIDxlbC1zY3JvbGxiYXI+CiAgICAgICAgPGRpdiBjbGFzcz0ibWVzc2FnZS1pdGVtIiB2LWZvcj0idGV4dCBpbiB0ZXh0cyI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlLWl0ZW0tMSIgdi1pZj0idGV4dC5mcm9tID09PSAxIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmFtZSI+5bCP5pm6PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2UiPnt7IHRleHQudGV4dCB9fTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlLWl0ZW0tMiIgdi1pZj0idGV4dC5mcm9tID09PSAyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmFtZSI+5oiRPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2UiPnt7IHRleHQudGV4dCB9fTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGltZyBzcmM9Ii4uLy4uL3B1YmxpYy9pY29ucy9sb2FkaW5nLmdpZiIgdi1zaG93PSJsb2FkaW5nIiAvPgogICAgICA8L2VsLXNjcm9sbGJhcj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iaW5wdXQtYm94Ij4KICAgICAgPHRleHRhcmVhCiAgICAgICAgdi1tb2RlbD0icXVlc3Rpb24iCiAgICAgICAgQGtleXVwPSJrZXlVcEhhbmRsZXIiCiAgICAgICAgQGtleWRvd249ImtleURvd25IYW5kbGVyIgogICAgICA+PC90ZXh0YXJlYT4KICAgICAgPG15LWJ1dHRvbiBjbGFzcz0icXVlcnktYnRuIiBAY2xpY2s9InF1ZXJ5Ij7or6Lpl648L215LWJ1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\QAPanel.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC7C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAChD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,CAAC,CAAC,CAAC,CAAC,CAAC;UACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAChD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC9D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Zhaoning/Desktop/HCI/src/components/QAPanel.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"qa-panel\">\n    <div class=\"title-box\">\n      <div style=\"min-width: 60px;\">智能问答</div>\n      <div class=\"qa-button\" @click=\"changeShowQAPanel\">\n        <svg class=\"icon-close\">\n          <use xlink:href=\"#iconguanbi\"></use>\n        </svg>\n      </div>\n    </div>\n\n    <div class=\"message-box\">\n      <el-scrollbar>\n        <div class=\"message-item\" v-for=\"text in texts\">\n          <div class=\"message-item-1\" v-if=\"text.from === 1\">\n            <div class=\"name\">小智</div>\n            <div class=\"message\">{{ text.text }}</div>\n          </div>\n          <div class=\"message-item-2\" v-if=\"text.from === 2\">\n            <div class=\"name\">我</div>\n            <div class=\"message\">{{ text.text }}</div>\n          </div>\n        </div>\n        <img src=\"../../public/icons/loading.gif\" v-show=\"loading\" />\n      </el-scrollbar>\n    </div>\n    <div class=\"input-box\">\n      <textarea\n        v-model=\"question\"\n        @keyup=\"keyUpHandler\"\n        @keydown=\"keyDownHandler\"\n      ></textarea>\n      <my-button class=\"query-btn\" @click=\"query\">询问</my-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MyButton from \"@/components/Tools/MyButton\";\nimport { simple_question } from \"@/api/QAAPI\";\nimport { mapMutations, mapState } from \"vuex\";\nexport default {\n  name: \"QAPanel\",\n  components: { MyButton },\n  data() {\n    return {\n      loading: false,\n      question: \"哈利波特\",\n      texts: [\n        {\n          from: 1, //1是系统，2是用户\n          text: \"试着问我问题吧~\",\n        },\n      ],\n    };\n  },\n  computed: {\n    ...mapState({\n      pid: (state) => state.pid,\n    }),\n  },\n  methods: {\n    ...mapMutations([\"changeShowQAPanel\"]),\n    keyDownHandler(event) {\n      if (event.keyCode == \"13\") {\n        event.preventDefault();\n      }\n    },\n    keyUpHandler(event) {\n      if (event.keyCode == \"13\") {\n        this.query(event);\n      }\n    },\n    query(event) {\n      if (this.question !== \"\") {\n        this.texts.push({ from: 2, text: this.question });\n        let question = this.question;\n        this.question = \"\"; //清空输入栏\n        this.loading = true;\n        let scrollView =\n          document.getElementsByClassName(\"el-scrollbar__wrap\")[0];\n        scrollView.scrollTop = scrollView.scrollHeight;\n        simple_question(question, this.pid)\n          .then((res) => {\n            this.loading = false;\n            if (res.data.success) {\n              this.texts.push({ from: 1, text: res.data.content });\n            } else {\n              this.texts.push({\n                from: 1,\n                text: \"查询失败噢...信息：\" + res.data.message,\n              });\n            }\n          })\n          .catch((err) => {\n            this.loading = false;\n            this.$message.error(\"访问失败，请检查网络\");\n          })\n          .finally(() => {\n            scrollView.scrollTop = scrollView.scrollHeight;\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"../assets/css/colors.less\";\n.qa-panel {\n  width: 300px;\n  height: 630px;\n  box-shadow: 0px 0 1px #e6e6e6;\n  background-color: white;\n  border-radius: 4px;\n  border: 1px solid #eeeeee;\n  display: flex;\n  flex-direction: column;\n}\n\n.title-box {\n  color: @theme;\n  font-weight: bold;\n  font-size: 15px;\n  font-family: 微软雅黑;\n  height: 40px;\n  line-height: 20px;\n  padding: 10px 14px;\n  border-bottom: 1px solid #eeeeee;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.message-box {\n  flex: 1;\n  padding: 14px 0 14px 14px;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n}\n\n.el-scrollbar {\n  padding-right: 14px;\n}\n\n.message-item {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 5px;\n}\n.qa-button {\n  line-height: 40px;\n  align-self: flex-end;\n  .icon-close {\n    height: 14px;\n    width: 14px;\n    padding-right: 5px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n.name {\n  color: @myblack;\n  font-size: 14px;\n  font-family: 微软雅黑;\n  letter-spacing: 1px;\n  margin-bottom: 5px;\n  width: 100%;\n}\n\n.message {\n  color: @myblack;\n  font-size: 14px;\n  font-family: 微软雅黑;\n  letter-spacing: 1px;\n  max-width: 75%;\n  width: fit-content;\n  padding: 10px 13px;\n  border-radius: 8px;\n}\n\n.message-item-1 {\n  .message {\n    border: 1px solid #d8d8ff;\n  }\n}\n\n.message-item-2 {\n  .name {\n    text-align: right;\n  }\n  .message {\n    background: #ededfd;\n    float: right;\n  }\n}\n\n.input-box {\n  height: 150px;\n  border-top: 1px solid #eeeeee;\n  position: relative;\n}\n\ntextarea {\n  resize: none;\n  border: none;\n  margin: 10px 10px 0 10px;\n  outline: none;\n  font-size: 15px;\n  font-family: 微软雅黑;\n  letter-spacing: 1px;\n  height: 100% - 40px;\n  width: 100% - 10px;\n  color: #565657;\n}\n\n.query-btn {\n  margin-bottom: 14px;\n  position: absolute;\n  right: 14px;\n  bottom: 0;\n}\n</style>"]}]}