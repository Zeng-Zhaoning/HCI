{"remainingRequest":"/Users/albert/Desktop/HCI/HCI/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/albert/Desktop/HCI/HCI/src/components/QAPanel.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/albert/Desktop/HCI/HCI/src/components/QAPanel.vue","mtime":1638694828506},{"path":"/Users/albert/Desktop/HCI/HCI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/albert/Desktop/HCI/HCI/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/albert/Desktop/HCI/HCI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/albert/Desktop/HCI/HCI/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBNeUJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9vbHMvTXlCdXR0b24iOwppbXBvcnQge3NpbXBsZV9xdWVzdGlvbn0gZnJvbSAiQC9hcGkvUUFBUEkiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUUFQYW5lbCIsCiAgY29tcG9uZW50czoge015QnV0dG9ufSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBxdWVzdGlvbjogIuWTiOWIqeazoueJuSIsCiAgICAgIHRleHRzOiBbCiAgICAgICAgewogICAgICAgICAgZnJvbTogMSwgLy8x5piv57O757uf77yMMuaYr+eUqOaItwogICAgICAgICAgdGV4dDogIuivleedgOmXruaIkemXrumimOWQp34iLAogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBrZXlEb3duSGFuZGxlcihldmVudCl7CiAgICAgIGlmIChldmVudC5rZXlDb2RlID09ICcxMycpewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0sCiAgICBrZXlVcEhhbmRsZXIoZXZlbnQpewogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAnMTMnKXsKICAgICAgICB0aGlzLnF1ZXJ5KGV2ZW50KTsKICAgICAgfQogICAgfSwKICAgIHF1ZXJ5KGV2ZW50KXsKICAgICAgaWYgKHRoaXMucXVlc3Rpb24gIT09ICcnKXsKICAgICAgICB0aGlzLnRleHRzLnB1c2goe2Zyb206IDIsIHRleHQ6dGhpcy5xdWVzdGlvbn0pOwogICAgICAgIGxldCBxdWVzdGlvbiA9IHRoaXMucXVlc3Rpb247CiAgICAgICAgdGhpcy5xdWVzdGlvbiA9ICIiOyAgLy/muIXnqbrovpPlhaXmoI8KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGxldCBzY3JvbGxWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZWwtc2Nyb2xsYmFyX193cmFwIilbMF07CiAgICAgICAgc2Nyb2xsVmlldy5zY3JvbGxUb3AgPSBzY3JvbGxWaWV3LnNjcm9sbEhlaWdodDsKICAgICAgICBzaW1wbGVfcXVlc3Rpb24ocXVlc3Rpb24pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpewogICAgICAgICAgICB0aGlzLnRleHRzLnB1c2goe2Zyb206IDEsIHRleHQ6IHJlcy5kYXRhLmNvbnRlbnR9KTsKICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgdGhpcy50ZXh0cy5wdXNoKHtmcm9tOiAxLCB0ZXh0OiAi5p+l6K+i5aSx6LSl5ZmiLi4u5L+h5oGv77yaIiArIHJlcy5kYXRhLm1lc3NhZ2V9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLorr/pl67lpLHotKXvvIzor7fmo4Dmn6XnvZHnu5wiKQogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgc2Nyb2xsVmlldy5zY3JvbGxUb3AgPSBzY3JvbGxWaWV3LnNjcm9sbEhlaWdodDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["/Users/albert/Desktop/HCI/HCI/src/components/QAPanel.vue"],"names":[],"mappings":"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","file":"/Users/albert/Desktop/HCI/HCI/src/components/QAPanel.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"qa-panel\">\n    <div class=\"title-box\">智能问答</div>\n    <div class=\"message-box\">\n      <el-scrollbar>\n        <div class=\"message-item\" v-for=\"text in texts\">\n          <div class=\"message-item-1\" v-if=\"text.from === 1\">\n            <div class=\"name\">小智</div>\n            <div class=\"message\">{{ text.text }}</div>\n          </div>\n          <div class=\"message-item-2\" v-if=\"text.from === 2\">\n            <div class=\"name\">我</div>\n            <div class=\"message\">{{ text.text }}</div>\n          </div>\n        </div>\n        <img src=\"../../public/icons/loading.gif\" v-show=\"loading\"/>\n      </el-scrollbar>\n    </div>\n    <div class=\"input-box\">\n      <textarea v-model=\"question\" @keyup=\"keyUpHandler\" @keydown=\"keyDownHandler\"></textarea>\n      <my-button class=\"query-btn\" @click=\"query\">询问</my-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MyButton from \"@/components/Tools/MyButton\";\nimport {simple_question} from \"@/api/QAAPI\"\nexport default {\n  name: \"QAPanel\",\n  components: {MyButton},\n  data(){\n    return{\n      loading: false,\n      question: \"哈利波特\",\n      texts: [\n        {\n          from: 1, //1是系统，2是用户\n          text: \"试着问我问题吧~\",\n        }\n      ]\n    }\n  },\n  methods:{\n    keyDownHandler(event){\n      if (event.keyCode == '13'){\n        event.preventDefault();\n      }\n    },\n    keyUpHandler(event){\n      if (event.keyCode == '13'){\n        this.query(event);\n      }\n    },\n    query(event){\n      if (this.question !== ''){\n        this.texts.push({from: 2, text:this.question});\n        let question = this.question;\n        this.question = \"\";  //清空输入栏\n        this.loading = true;\n        let scrollView = document.getElementsByClassName(\"el-scrollbar__wrap\")[0];\n        scrollView.scrollTop = scrollView.scrollHeight;\n        simple_question(question).then(res => {\n          this.loading = false;\n          if (res.data.success){\n            this.texts.push({from: 1, text: res.data.content});\n          }else {\n            this.texts.push({from: 1, text: \"查询失败噢...信息：\" + res.data.message});\n          }\n        }).catch(err => {\n          this.loading = false;\n          this.$message.error(\"访问失败，请检查网络\")\n        }).finally(() => {\n          scrollView.scrollTop = scrollView.scrollHeight;\n        });\n      }\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"../assets/css/colors.less\";\n.qa-panel{\n  width: 300px;\n  height: 630px;\n  box-shadow: 0px 0 1px #e6e6e6;\n  background-color: white;\n  border-radius: 4px;\n  border: 1px solid #eeeeee;\n  display: flex;\n  flex-direction: column;\n}\n\n.title-box{\n  color: @theme;\n  font-weight: bold;\n  font-size: 15px;\n  font-family: 微软雅黑;\n  height: 20px;\n  line-height: 20px;\n  padding: 14px;\n  border-bottom: 1px solid #eeeeee;\n}\n\n.message-box{\n  flex: 1;\n  padding: 14px 0 14px 14px;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n}\n\n.el-scrollbar{\n  padding-right: 14px;\n}\n\n.message-item{\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 5px;\n}\n\n.name{\n  color: @myblack;\n  font-size: 14px;\n  font-family: 微软雅黑;\n  letter-spacing:1px;\n  margin-bottom: 5px;\n  width: 100%;\n}\n\n.message{\n  color: @myblack;\n  font-size: 14px;\n  font-family: 微软雅黑;\n  letter-spacing:1px;\n  max-width: 75%;\n  width: fit-content;\n  padding: 10px 13px;\n  border-radius: 8px;\n}\n\n.message-item-1{\n  .message{\n    border: 1px solid #d8d8ff;\n  }\n}\n\n.message-item-2{\n  .name{\n    text-align: right;\n  }\n  .message{\n    background: #ededfd;\n    float: right;\n  }\n}\n\n.input-box{\n  height: 150px;\n  border-top: 1px solid #eeeeee;\n  position: relative;\n}\n\ntextarea{\n  resize: none;\n  border: none;\n  margin: 10px 10px 0 10px;\n  outline: none;\n  font-size: 15px;\n  font-family: 微软雅黑;\n  letter-spacing:1px;\n  height: 100% - 40px;\n  width: 100% - 10px;\n  color: #565657;\n}\n\n.query-btn{\n  margin-bottom: 14px;\n  position: absolute;\n  right: 14px;\n  bottom: 0;\n}\n\n</style>"]}]}