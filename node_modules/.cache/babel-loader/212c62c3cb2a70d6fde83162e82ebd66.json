{"remainingRequest":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\SideBar.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\SideBar.vue","mtime":1638705450001},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvWmhhb25pbmcvRGVza3RvcC9IQ0kvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IGdldFJlY29tbWVuZCB9IGZyb20gIkAvYXBpL1JlY29tbWVuZEFQSSI7CmltcG9ydCB7IGdyYW1tYXJfYW5hbHlzZSB9IGZyb20gIkAvYXBpL0dyYW1tYXJBUEkiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2lkZUJhciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaGVkOiBmYWxzZSwKICAgICAgaW5wdXQ6ICcnLAogICAgICByZXN1bHRMb2FkaW5nOiBmYWxzZSwKICAgICAgcmVzdWx0OiB7fSwKICAgICAgLy/ov5Tlm57nmoTnu5PmnpwKICAgICAgc2hvd05vUmVzdWx0OiBmYWxzZSwKICAgICAgYW5zOiBbXSwKICAgICAgc2hvd0FuczogZmFsc2UsCiAgICAgIHNob3dOb2RlSW5mbzogZmFsc2UsCiAgICAgIHJlY3NMb2FkaW5nOiBmYWxzZSwKICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSwKICAgICAgLy/mjqjojZDmnaHnm64KICAgICAgaW5kZXhDbGFzczogWydpbmRleC0xJywgJ2luZGV4LTInLCAnaW5kZXgtMyddLAogICAgICBzaG93Tm9SZWNzOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBwcm9qZWN0OiBmdW5jdGlvbiBwcm9qZWN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9qZWN0OwogICAgfSwKICAgIHBpZDogZnVuY3Rpb24gcGlkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5waWQ7CiAgICB9CiAgfSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsnc2V0UHJvamVjdCddKSksIHt9LCB7CiAgICBrZXlEb3duSGFuZGxlcjogZnVuY3Rpb24ga2V5RG93bkhhbmRsZXIoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gJzEzJykgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0sCiAgICBrZXlVcEhhbmRsZXI6IGZ1bmN0aW9uIGtleVVwSGFuZGxlcihldmVudCkgewogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAnMTMnKSB7CiAgICAgICAgdGhpcy5xdWVyeShldmVudCk7CiAgICAgIH0KICAgIH0sCiAgICBxdWVyeTogZnVuY3Rpb24gcXVlcnkoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmlucHV0ID09PSAnJykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dDsKICAgICAgdGhpcy5zZWFyY2hlZCA9IHRydWU7CiAgICAgIHRoaXMucmVjc0xvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnJlc3VsdExvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3dOb1Jlc3VsdCA9IGZhbHNlOwogICAgICB0aGlzLnNob3dOb1JlY3MgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93QW5zID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd05vZGVJbmZvID0gZmFsc2U7CiAgICAgIHRoaXMucmVjb21tZW5kYXRpb25zID0gW107CiAgICAgIHRoaXMuYW5zID0gW107CiAgICAgIHRoaXMucmVzdWx0ID0ge307IC8v6K+35rGCYXBp6I635b6X5o6o6I2Q57uT5p6cCgogICAgICBnZXRSZWNvbW1lbmQoaW5wdXQsIHRoaXMucGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZhciByZWNzT2JqID0gcmVzLmNvbnRlbnQ7CgogICAgICAgICAgaWYgKHJlcy5jb250ZW50ICE9PSBudWxsKSB7CiAgICAgICAgICAgIC8v5qC55o2u6ZSu5YC85o6S5bqP5b6X5Yiw6ZSu5ZCNbGlzdAogICAgICAgICAgICBfdGhpcy5yZWNvbW1lbmRhdGlvbnMgPSBPYmplY3Qua2V5cyhyZWNzT2JqKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY3NPYmpbYl0gLSByZWNzT2JqW2FdOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXMucmVjb21tZW5kYXRpb25zID0gX3RoaXMucmVjb21tZW5kYXRpb25zLnNsaWNlKDAsIDEwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnNob3dOb1JlY3MgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+ehruS/nee9kee7nOi/nuaOpeato+W4uCIpOwoKICAgICAgICBjb25zb2xlLmxvZygi6KaB5LmI5pat572R77yM6KaB5LmI5pyN5Yqh5Zmo5bSp5LqGIiwgZXJyKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMucmVjc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\SideBar.vue"],"names":[],"mappings":"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","sourcesContent":["<template xmlns=\"http://www.w3.org/1999/html\">\n  <div class=\"container\">\n    <div class=\"search-box\">\n      <div class=\"header\">\n        <span>搜索</span>\n        <div class=\"input-box\">\n          <input v-model=\"input\" @keyup=\"keyUpHandler\" @keydown=\"keyDownHandler\"/>\n          <svg class=\"icon\" aria-hidden=\"true\" @click=\"query\">\n            <use xlink:href=\"#iconyou\"></use>\n          </svg>\n        </div>\n      </div>\n    </div>\n\n    <el-scrollbar>\n      <div class=\"result-box\" v-loading=\"resultLoading\">\n        <div class=\"title\"><span>搜索结果</span></div>\n        <div class=\"empty\" v-if=\"!searched\">先输入关键词搜索吧~</div>\n        <div class=\"empty\" v-if=\"showNoResult\">无匹配，换个关键词搜索吧</div>\n        <div class=\"ans\" v-if=\"showAns\">\n          <div v-for=\"ansItem in ans\">{{ ansItem }}</div>\n        </div>\n        <div v-if=\"showNodeInfo\">\n          <div class=\"result-item\">\n            <div class=\"result-name\">{{ result.data.name }}</div>\n          </div>\n          <div class=\"result-item\" v-for=\"(value, key) in result.data.property\">\n            <span class=\"key\">{{ key }}</span>\n            <span class=\"value\">\n              <span v-if=\"typeof value === 'string'\">{{ value }}</span>\n              <span v-else-if=\"Array.isArray(value)\">{{ value.join('，') }}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"recommendations-box\" v-loading=\"recsLoading\">\n        <div class=\"title\"><span>猜你想看</span></div>\n        <div class=\"empty\" v-if=\"!searched\">先输入关键词搜索吧~</div>\n        <div class=\"empty\" v-if=\"showNoRecs\">暂无推荐</div>\n        <div>\n          <div class=\"recommendation-item\"\n               v-for=\"(rec, index) in recommendations\"\n               :key=\"rec\">\n            <div class=\"index\" :class=\"indexClass[index]\">{{ index + 1 }}</div>\n            <div class=\"rec-text\">{{ rec }}</div>\n          </div>\n        </div>\n      </div>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport { getRecommend } from \"@/api/RecommendAPI\"\nimport { grammar_analyse } from \"@/api/GrammarAPI\"\nimport {mapMutations, mapState} from \"vuex\";\n\nexport default {\n  name: \"SideBar\",\n  data(){\n    return {\n      searched: false,\n      input: '',\n      resultLoading: false,\n      result: {}, //返回的结果\n      showNoResult: false,\n      ans: [],\n      showAns: false,\n      showNodeInfo: false,\n      recsLoading: false,\n      recommendations: [],  //推荐条目\n      indexClass: ['index-1', 'index-2', 'index-3'],\n      showNoRecs: false,\n    }\n  },\n  computed: {\n    ...mapState({\n      project: state => state.project,\n      pid: state => state.pid,\n    }),\n  },\n  methods:{\n    ...mapMutations(['setProject']),\n    keyDownHandler(event){\n      if (event.keyCode == '13'){\n        event.preventDefault();\n      }\n    },\n    keyUpHandler(event){\n      if (event.keyCode == '13'){\n        this.query(event);\n      }\n    },\n    query(event){\n      if (this.input === ''){ return; }\n\n      let input = this.input;\n      this.searched = true;\n      this.recsLoading = true;\n      this.resultLoading = true;\n      this.showNoResult = false;\n      this.showNoRecs = false;\n      this.showAns = false;\n      this.showNodeInfo = false;\n      this.recommendations = [];\n      this.ans = [];\n      this.result = {};\n\n      //请求api获得推荐结果\n      getRecommend(input, this.pid).then(res => {\n        if (res.success){\n          let recsObj = res.content;\n          if (res.content !== null){\n            //根据键值排序得到键名list\n            this.recommendations = Object.keys(recsObj).sort(function(a,b){return recsObj[b]-recsObj[a]});\n            this.recommendations = this.recommendations.slice(0,10);\n          }else{\n            this.showNoRecs = true;\n          }\n        }else {\n          this.$message.error(res.message);\n        }\n      }).catch(err => {\n        this.$message.error(\"请确保网络连接正常\");\n        console.log(\"要么断网，要么服务器崩了\",err);\n      }).finally(() => {\n        this.recsLoading = false;\n      });\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"../../assets/css/colors.less\";\n@pad : 15px;\n@len1 : 20px;\n\n.container{\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.header{\n  background: @theme;\n  padding-top: @pad;\n  height: 65px;\n  line-height: 30px;\n  width: 300px;\n  font-size: 17px;\n  font-weight: bold;\n  color: white;\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.search-box{\n  .input-box{\n    height: 40px;\n    width: 100% - 15px;\n    margin: 8px auto;\n    position: relative;\n  }\n  input{\n    border: 2px solid @separator;\n    border-radius: 8px;\n    padding-left: 10px;\n    padding-right: 10px;\n    outline: none;\n    font-size: 15px;\n    font-family: 微软雅黑;\n    letter-spacing:1px;\n    width: 100% - 8px;\n    height: 100%;\n    color: #565657;\n  }\n  input:hover{\n    border-color: @prompt;\n  }\n  input:focus{\n    border-color: @theme;\n  }\n}\n\nsvg{\n  position: absolute;\n  right: 5px;\n  top: 13px;\n  width: 20px;\n  height: 20px;\n  background: white;\n}\nsvg:hover{\n  cursor: pointer;\n}\n\n.title{\n  color: @theme;\n  font-size: 14px;\n  font-family: 微软雅黑;\n  height: @len1;\n  span{\n    line-height: @len1;\n  }\n}\n\n.result-box{\n  padding: @pad;\n  min-height: 100px;\n  font-family: 微软雅黑;\n  font-size: 14px;\n  color: #565657;\n}\n\n.ans{\n  margin: 8px;\n}\n\n.result-name{\n  font-size: 17px;\n  font-weight: bold;\n  color: #565657;\n  margin: 25px 0;\n}\n\n.result-item{\n  //display: flex;\n  //flex-direction: row;\n  margin: 8px;\n}\n\n.key{\n  display: inline-block;\n  letter-spacing: 1px;\n  //color: @theme;\n  height: 20px;\n  line-height: 20px;\n  border-radius: 4px;\n  text-align: center;\n  color: white;\n  background: @theme;\n  padding: 1px 4px;\n  font-size: 13px;\n  margin-right: 8px;\n}\n\n\n\n/* 建议栏 */\n.recommendations-box{\n  padding: @pad;\n  font-family: 微软雅黑;\n  font-size: 14px;\n}\n.recommendation-item{\n  display: flex;\n  flex-direction: row;\n  margin: 8px;\n  color: #565657;\n}\n.index{\n  height: 20px;\n  line-height: 20px;\n  width: 20px;\n  border-radius: 4px;\n  text-align: center;\n}\n.index-1{\n  background: @set2-blush;\n  color: white;\n}\n.index-2{\n  background: @set1-dandelion;\n  color: white;\n}\n.index-3{\n  background: @set4-neptune;\n  color: white;\n}\n.rec-text{\n  margin-left: 10px;\n  letter-spacing: 0.5px;\n}\n\n.empty{\n  color: @prompt;\n  font-size: 14px;\n  font-family: 微软雅黑;\n  text-align: center;\n  margin: 20px;\n}\n\n</style>"],"sourceRoot":""}]}