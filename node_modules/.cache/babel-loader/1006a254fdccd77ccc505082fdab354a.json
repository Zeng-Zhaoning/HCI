{"remainingRequest":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\views\\Login.vue","mtime":1640251874616},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639148470021},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js","mtime":1639148468681},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639148470021},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639551855693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1poYW9uaW5nL0Rlc2t0b3AvSENJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvWmhhb25pbmcvRGVza3RvcC9IQ0kvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CgovKmVzbGludC1kaXNhYmxlKi8KaW1wb3J0IHsgcG9zdCB9IGZyb20gIi4uL2FwaS9SZXF1ZXN0IjsKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVtYWlsRXJyb3JNc2c6ICIiLAogICAgICBwYXNzd29yZEVycm9yTXNnOiAiIiwKICAgICAgcmVQYXNzd29yZDogIiIsCiAgICAgIHJlUGFzc3dvcmRFcnJvck1zZzogIiIsCiAgICAgIGlzUmVnaXN0ZXJpbmc6IGZhbHNlLAogICAgICBpc1JlcXVlc3Rpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIHVpZDogZnVuY3Rpb24gdWlkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51aWQ7CiAgICB9LAogICAgdW1haWw6IGZ1bmN0aW9uIHVtYWlsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51bWFpbDsKICAgIH0sCiAgICB1cGFzczogZnVuY3Rpb24gdXBhc3Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVwYXNzOwogICAgfQogIH0pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLmhhZGxlS2V5UHJlc3MpOwogIH0sCiAgdW5tb3VudGVkOiBmdW5jdGlvbiB1bm1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuaGFkbGVLZXlQcmVzcyk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInNldFVzZXJJbmZvIiwgImNoYW5nZUlzTG9iYnlHdWlkZVNob3ciXSkpLCB7fSwgewogICAgY2hlY2tFbWFpbDogZnVuY3Rpb24gY2hlY2tFbWFpbCgpIHsKICAgICAgaWYgKCF0aGlzLmVtYWlsKSB7CiAgICAgICAgdGhpcy5lbWFpbEVycm9yTXNnID0gIuivt+i+k+WFpemCrueusSI7CiAgICAgIH0gZWxzZSBpZiAoIS9eKFx3KSsoXC5cdyspKkAoXHcpKygoXC5cdyspKykkLy50ZXN0KHRoaXMuZW1haWwpKSB7CiAgICAgICAgdGhpcy5lbWFpbEVycm9yTXNnID0gIumCrueuseagvOW8j+S4jeato+ehriI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbWFpbEVycm9yTXNnID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBvbklucHV0RW1haWw6IGZ1bmN0aW9uIG9uSW5wdXRFbWFpbCgpIHsKICAgICAgdGhpcy5lbWFpbEVycm9yTXNnICYmIHRoaXMuY2hlY2tFbWFpbCgpOwogICAgfSwKICAgIGNoZWNrUGFzc3dvcmQ6IGZ1bmN0aW9uIGNoZWNrUGFzc3dvcmQoKSB7CiAgICAgIGlmICghdGhpcy5wYXNzd29yZCkgewogICAgICAgIHRoaXMucGFzc3dvcmRFcnJvck1zZyA9ICLor7fovpPlhaXlr4bnoIEiOwogICAgICB9IGVsc2UgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoIDwgNikgewogICAgICAgIHRoaXMucGFzc3dvcmRFcnJvck1zZyA9ICLlr4bnoIHplb/luqbkuI3lsJHkuo425Liq5a2X56ymIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhc3N3b3JkRXJyb3JNc2cgPSAiIjsKICAgICAgfQogICAgfSwKICAgIG9uSW5wdXRQYXNzd29yZDogZnVuY3Rpb24gb25JbnB1dFBhc3N3b3JkKCkgewogICAgICB0aGlzLnBhc3N3b3JkRXJyb3JNc2cgJiYgdGhpcy5jaGVja1Bhc3N3b3JkKCk7CiAgICB9LAogICAgY2hlY2tSZVBhc3N3b3JkOiBmdW5jdGlvbiBjaGVja1JlUGFzc3dvcmQoKSB7CiAgICAgIGlmICghdGhpcy5yZVBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5yZVBhc3N3b3JkRXJyb3JNc2cgPSAi6K+35YaN5qyh6L6T5YWl5a+G56CBIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLnJlUGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmQpIHsKICAgICAgICB0aGlzLnJlUGFzc3dvcmRFcnJvck1zZyA9ICLkuKTmrKHovpPlhaXnmoTlr4bnoIHkuI3kuIDoh7QiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVQYXNzd29yZEVycm9yTXNnID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBlcnJvck1zZywgcmVzLCB1aWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuY2hlY2tFbWFpbCgpOwoKICAgICAgICAgICAgICAgIF90aGlzLmNoZWNrUGFzc3dvcmQoKTsKCiAgICAgICAgICAgICAgICBlcnJvck1zZyA9IF90aGlzLmVtYWlsRXJyb3JNc2cgfHwgX3RoaXMucGFzc3dvcmRFcnJvck1zZzsKCiAgICAgICAgICAgICAgICBpZiAoIWVycm9yTXNnKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnJvck1zZyk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzLmlzUmVxdWVzdGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBwb3N0KCIvY2hlY2tVc2VyIiwgewogICAgICAgICAgICAgICAgICBtYWlsOiBfdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmlzUmVxdWVzdGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICByZXMubWVzc2FnZSA9PT0gIuWvhueggemUmeivryIgJiYgKF90aGlzLnBhc3N3b3JkRXJyb3JNc2cgPSByZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygid3JvbmciLCByZXMpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB1aWQgPSByZXMuY29udGVudFsiaWQiXTsKCiAgICAgICAgICAgICAgICBfdGhpcy5zZXRVc2VySW5mbyh1aWQsIF90aGlzLm1haWwsIF90aGlzLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVpZCIsIHVpZCk7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVtYWlsIiwgX3RoaXMuZW1haWwpOwoKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImlzTG9iYnlHdWlkZVNob3ciKSAhPT0gInRydWUiKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXNMb2JieUd1aWRlU2hvdyIsIHRydWUpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlSXNMb2JieUd1aWRlU2hvdygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImlzRWRpdEd1aWRlU2hvdyIpICE9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpc0VkaXRHdWlkZVNob3ciLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmNoYW5nZUlzRWRpdEd1aWRlU2hvdygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyRGF0YSgpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2xvYmJ5Iik7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBlcnJvck1zZywgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuY2hlY2tFbWFpbCgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jaGVja1Bhc3N3b3JkKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmNoZWNrUmVQYXNzd29yZCgpOwoKICAgICAgICAgICAgICAgIGVycm9yTXNnID0gX3RoaXMyLmVtYWlsRXJyb3JNc2cgfHwgX3RoaXMyLnBhc3N3b3JkRXJyb3JNc2cgfHwgX3RoaXMyLnJlUGFzc3dvcmRFcnJvck1zZzsKCiAgICAgICAgICAgICAgICBpZiAoIWVycm9yTXNnKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGVycm9yTXNnKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMi5pc1JlcXVlc3RpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvY3JlYXRlVXNlcicsIHsKICAgICAgICAgICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICAgICAgICAgIG1haWw6IF90aGlzMi5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzMi5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5pc1JlcXVlc3RpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuY29udGVudCA9PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygid3JvbmciLCByZXMpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIm+W7uuaIkOWKnyIpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jbGVhckRhdGEoKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuY2hhbmdlUGFnZSgpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXJEYXRhOiBmdW5jdGlvbiBjbGVhckRhdGEoKSB7CiAgICAgIHRoaXMuZW1haWwgPSAiIjsKICAgICAgdGhpcy5lbWFpbEVycm9yTXNnID0gIiI7CiAgICAgIHRoaXMucGFzc3dvcmQgPSAiIjsKICAgICAgdGhpcy5wYXNzd29yZEVycm9yTXNnID0gIiI7CiAgICAgIHRoaXMucmVQYXNzd29yZCA9ICIiOwogICAgICB0aGlzLnJlUGFzc3dvcmRFcnJvck1zZyA9ICIiOwogICAgfSwKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UoKSB7CiAgICAgIHRoaXMuY2xlYXJEYXRhKCk7CiAgICAgIHRoaXMuaXNSZWdpc3RlcmluZyA9ICF0aGlzLmlzUmVnaXN0ZXJpbmc7CiAgICB9LAogICAgdG9Gb3JnZXQ6IGZ1bmN0aW9uIHRvRm9yZ2V0KCkgewogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuivt+iBlOezu+euoeeQhuWRmOaJvuWbnuWvhueggSIpOwogICAgfSwKICAgIGhhZGxlS2V5UHJlc3M6IGZ1bmN0aW9uIGhhZGxlS2V5UHJlc3MoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coJ2NodWZhJyk7CgogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHsKICAgICAgICAhdGhpcy5pc1JlZ2lzdGVyaW5nICYmIHRoaXMubG9naW4oKTsKICAgICAgICB0aGlzLmlzUmVnaXN0ZXJpbmcgJiYgdGhpcy5yZWdpc3RlcigpOwogICAgICB9CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\views\\Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <img class=\"left-top-pic\" src=\"/icons/left-top-pic.png\" />\n    <img class=\"left-bottom-pic\" src=\"/icons/left-bottom-pic.png\" />\n    <img class=\"right-pic\" src=\"/icons/right-pic.png\" />\n    <div class=\"introduction\">\n      <img class=\"web-logo\" src=\"/icons/knowledgegraph.png\"/>\n      <div class=\"web-title\">知识图谱在线编辑系统</div>\n      <div class=\"web-description\">在这里，<br />\n        轻松创建你的知识图谱，<br />\n        并对图谱进行编辑、保存、导出图片等操作<br />\n      </div>\n    </div>\n    <div class=\"divider\" />\n    <div class=\"login-box\" :class=\"{ 'register-box': isRegistering }\">\n      <div class=\"login-title\">{{isRegistering ? \"注册\" : \"登录\"}}</div>\n      <div class=\"login-inputs\">\n        <div class=\"input-box\" :class=\"{error: emailErrorMsg}\">\n          <img class=\"mail-icon\" src=\"/icons/email.svg\" />\n          <input placeholder=\"邮箱\" v-model=\"email\" @blur=\"checkEmail\" @input=\"onInputEmail\" autofocus />\n          <div class=\"errorMsg\">{{emailErrorMsg}}</div>\n        </div>\n        <div class=\"input-box\" :class=\"{error: passwordErrorMsg}\">\n          <img class=\"password-icon\" src=\"/icons/password.svg\"/>\n          <input placeholder=\"密码\" type=\"password\" v-model=\"password\" @blur=\"checkPassword\" @input=\"onInputPassword\" />\n          <div class=\"errorMsg\">{{passwordErrorMsg}}</div>\n        </div>\n        <div v-if=\"isRegistering\" class=\"input-box\" :class=\"{error: rePasswordErrorMsg}\">\n          <img class=\"password-icon\" src=\"/icons/password.svg\"/>\n          <input placeholder=\"确认密码\" type=\"password\" v-model=\"rePassword\" @input=\"checkRePassword\" />\n          <div class=\"errorMsg\">{{rePasswordErrorMsg}}</div>\n        </div>\n      </div>\n      <div class=\"bottom-btns\">\n        <button v-if=\"!isRegistering\" class=\"login-btn\" :class=\"{disabled: isRequesting}\" @click=\"login\" :disabled=\"isRequesting\">\n          {{isRequesting ? '登陆中...' : '登录'}}\n        </button>\n        <button v-if=\"isRegistering\" class=\"login-btn\" :class=\"{disabled: isRequesting}\" @click=\"register\" :disabled=\"isRequesting\">\n          {{isRequesting ? '注册中...' : '注册'}}\n        </button>\n        <div class=\"other-btns\">\n          <div v-if=\"!isRegistering\" class=\"other-btn\" @click=\"changePage\">注册账号</div>\n          <div v-if=\"!isRegistering\" class=\"other-btn\" @click=\"toForget\">忘记密码？</div>\n          <div v-if=\"isRegistering\" class=\"other-btn\" @click=\"changePage\">返回</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"author\">\n      ©Copyright 苏语风 曾昭宁 刘子仰 林心鹏\n    </div>\n  </div>\n</template>\n\n\n<script>\n/*eslint-disable*/\nimport { post } from \"../api/Request\";\nimport { mapMutations, mapState } from \"vuex\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      emailErrorMsg: \"\",\n      passwordErrorMsg: \"\",\n      rePassword: \"\",\n      rePasswordErrorMsg: \"\",\n      isRegistering: false,\n      isRequesting: false,\n    };\n  },\n  computed: {\n    ...mapState({\n      uid: (state) => state.uid,\n      umail: (state) => state.umail,\n      upass: (state) => state.upass,\n    }),\n  },\n  mounted() {\n    document.addEventListener('keypress', this.hadleKeyPress);\n  },\n  unmounted() {\n    document.removeEventListener('keypress', this.hadleKeyPress);\n  },\n  methods: {\n    ...mapMutations([\"setUserInfo\", \"changeIsLobbyGuideShow\"]),\n    checkEmail() {\n      if (!this.email) {\n        this.emailErrorMsg = \"请输入邮箱\";\n      } else if (!/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/.test(this.email)) {\n        this.emailErrorMsg = \"邮箱格式不正确\";\n      } else {\n        this.emailErrorMsg = \"\";\n      }\n    },\n    onInputEmail() {\n      this.emailErrorMsg && this.checkEmail();\n    },\n    checkPassword () {\n      if (!this.password) {\n        this.passwordErrorMsg = \"请输入密码\";\n      } else if (this.password.length < 6) {\n        this.passwordErrorMsg = \"密码长度不少于6个字符\";\n      } else {\n        this.passwordErrorMsg = \"\";\n      }\n    },\n    onInputPassword() {\n      this.passwordErrorMsg && this.checkPassword();\n    },\n    checkRePassword () {\n      if (!this.rePassword) {\n        this.rePasswordErrorMsg = \"请再次输入密码\";\n      } else if (this.rePassword !== this.password) {\n        this.rePasswordErrorMsg = \"两次输入的密码不一致\";\n      } else {\n        this.rePasswordErrorMsg = \"\";\n      }\n    },\n    async login() {\n      this.checkEmail();\n      this.checkPassword();\n      const errorMsg = this.emailErrorMsg || this.passwordErrorMsg;\n      if (errorMsg) {\n        this.$message.error(errorMsg);\n        return;\n      }\n\n      this.isRequesting = true;\n      let res = await post(\"/checkUser\", {\n        mail: this.email,\n        password: this.password,\n      });\n      this.isRequesting = false;\n\n      if (!res.success) {\n        this.$message.error(res.message);\n        (res.message === \"密码错误\") && (this.passwordErrorMsg = res.message);\n        console.log(\"wrong\", res);\n        return;\n      }\n\n      let uid = res.content[\"id\"];\n      this.setUserInfo(uid, this.mail, this.password);\n      window.localStorage.setItem(\"uid\", uid);\n      window.localStorage.setItem(\"umail\", this.email);\n      if (window.localStorage.getItem(\"isLobbyGuideShow\") !== \"true\") {\n        window.localStorage.setItem(\"isLobbyGuideShow\", true);\n        this.changeIsLobbyGuideShow();\n      }\n      if (window.localStorage.getItem(\"isEditGuideShow\") !== \"true\") {\n        window.localStorage.setItem(\"isEditGuideShow\", true);\n        this.changeIsEditGuideShow();\n      }\n      this.clearData();\n      this.$router.push(\"/lobby\");\n    },\n    async register() {\n      this.checkEmail();\n      this.checkPassword();\n      this.checkRePassword();\n      const errorMsg = this.emailErrorMsg || this.passwordErrorMsg || this.rePasswordErrorMsg;\n      if (errorMsg) {\n        this.$message.error(errorMsg);\n        return;\n      }\n\n      this.isRequesting = true;\n      const res = await post('/createUser', {\n        id: null,\n        mail: this.email,\n        password: this.password\n      });\n      this.isRequesting = false;\n\n      if(res.content==false){\n        this.$message.error(res.message)\n        console.log(\"wrong\",res)\n        return\n      }\n      this.$message.success(\"创建成功\");\n      this.clearData();\n      this.changePage();\n    },\n    clearData() {\n      this.email = \"\";\n      this.emailErrorMsg = \"\";\n      this.password = \"\";\n      this.passwordErrorMsg = \"\";\n      this.rePassword = \"\";\n      this.rePasswordErrorMsg = \"\";\n    },\n    changePage() {\n      this.clearData();\n      this.isRegistering = !this.isRegistering;\n    },\n    toForget() {\n      this.$message.info(\"请联系管理员找回密码\");\n    },\n    hadleKeyPress(event) {\n      console.log('chufa');\n      if (event.keyCode === 13) {\n        !this.isRegistering && this.login();\n        this.isRegistering && this.register();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"../assets/css/colors.less\";\n\n.container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n}\n\n.left-top-pic {\n  height: 50%;\n  opacity: 15%;\n  position: absolute;\n  top: -30px;\n  left: -20px;\n}\n\n.left-bottom-pic {\n  height: 20%;\n  opacity: 15%;\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  z-index: -10;\n}\n\n.right-pic {\n  height: 40%;\n  opacity: 15%;\n  position: absolute;\n  right: 40px;\n  bottom: 26%;\n  z-index: -10;\n}\n\n.introduction {\n  margin-left: 20%;\n}\n\n.web-logo {\n  height: 140px;\n  width: 140px;\n}\n\n.web-title {\n  letter-spacing: 2px;\n  font-size: 20px;\n  // margin-top: 10px;\n  margin-bottom: 60px;\n}\n\n.web-description {\n  font-size: 18px;\n  font-family: 华文细黑;\n  line-height: 40px;\n}\n\n.divider {\n  width: 1px;\n  height: 35%;\n  border: none;\n  background-color: @separator;\n  position: absolute;\n  left: 50%;\n  right: 50%;\n  // transform: translateY(-50%);\n}\n\n.login-box {\n  width: 280px;\n  height: 47%;\n  background-color: white;\n  box-shadow: 0 0 20px 4px #F0F0F1;\n  padding: 50px 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  margin-left: 20%;\n}\n\n.register-box {\n  height: 53%;\n}\n\n.login-title {\n  color: @theme;\n  font-weight: bold;\n  font-size: 24px;\n}\n\n.login-inputs {\n  width: 100%;\n  margin-top: 60px;\n  margin-bottom: 40px;\n}\n\n.input-box {\n  border: 1px solid @separator;\n  background-color: rgb(253, 253, 253);\n  padding: 0 10px;\n  border-radius: 7px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 25px;\n  position: relative;\n  img {\n    height: 17px;\n    width: 17px;\n    vertical-align: middle;\n    margin-right: 6px;\n  }\n  input {\n    background-color: rgb(253, 253, 253);\n    height: 35px;\n    border: none;\n    outline: none;\n    flex: 1;\n    font-size: 15px;\n    caret-color: @theme;\n    color: @myblack;\n    &::placeholder {\n      color: @prompt;\n      font-size: 14px;\n    }\n  }\n  &:focus-within {\n    border: 1px solid @theme;\n  }\n  &.error {\n    border: 1px solid red;\n  }\n}\n\n.errorMsg {\n  color: red;\n  font-size: 13px;\n  width: 100%;\n  position: absolute;\n  top: 41px;\n  left: 0;\n}\n\n.bottom-btns {\n  width: 100%;\n}\n\n.login-btn {\n  width: 100%;\n  height: 40px;\n  border: none;\n  border-radius: 50px;\n  background-color: @theme;\n  color: white;\n  font-size: 16px;\n  &:hover {\n    cursor: pointer;\n    background-color: rgb(105, 137, 226);\n  }\n  &:active {\n    background-color: rgba(105, 137, 226, 0.9);\n  }\n  &.disabled {\n    opacity: 0.8;\n  }\n}\n\n.other-btns {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row-reverse;\n  margin-top: 13px;\n}\n\n.other-btn {\n  font-size: 14px;\n  color: @prompt;\n  &:hover {\n    color: tomato;\n    cursor: pointer;\n    text-decoration: underline;\n  }\n}\n\n.author {\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 13px;\n  color: @prompt;\n}\n</style>\n"],"sourceRoot":""}]}