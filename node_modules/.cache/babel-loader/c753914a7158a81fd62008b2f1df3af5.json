{"remainingRequest":"C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\src\\components\\User\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\src\\components\\User\\Login.vue","mtime":1639538419831},{"path":"C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL093ZW4gTGl1L0Rlc2t0b3AvXHU3QTMzXHU1QjlBXHU3MjQ4L0hDSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL093ZW4gTGl1L0Rlc2t0b3AvXHU3QTMzXHU1QjlBXHU3MjQ4L0hDSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKCi8qZXNsaW50LWRpc2FibGUqLwppbXBvcnQgeyBwb3N0IH0gZnJvbSAiLi4vLi4vYXBpL1JlcXVlc3QiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICB1aWQ6IGZ1bmN0aW9uIHVpZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudWlkOwogICAgfSwKICAgIHVtYWlsOiBmdW5jdGlvbiB1bWFpbChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudW1haWw7CiAgICB9LAogICAgdXBhc3M6IGZ1bmN0aW9uIHVwYXNzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51cGFzczsKICAgIH0KICB9KSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWyJzZXRVc2VySW5mbyJdKSksIHt9LCB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIHVpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoL14oXHcpKyhcLlx3KykqQChcdykrKChcLlx3KykrKSQvLnRlc3QoX3RoaXMuZW1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5LmVycm9yKCLpgq7nrrHmoLzlvI/kuI3nrKblkIjopoHmsYIiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMucGFzc3dvcmQubGVuZ3RoIDwgNikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoIuWvhueggemVv+W6pumcgOimgeWkp+S6juetieS6jjbkuKrlrZfnrKYiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEoIV90aGlzLnBhc3N3b3JkICYmICFfdGhpcy5lbWFpbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoIui+k+WFpeWGheWuueS4jeiDveS4uuepuiIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdCgiL2NoZWNrVXNlciIsIHsKICAgICAgICAgICAgICAgICAgbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IocmVzLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ3cm9uZyIsIHJlcyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHVpZCA9IHJlcy5jb250ZW50WyJpZCJdOwoKICAgICAgICAgICAgICAgIF90aGlzLnNldFVzZXJJbmZvKHVpZCwgX3RoaXMubWFpbCwgX3RoaXMucGFzc3dvcmQpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2xvYmJ5Iik7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdG9SZWdpc3RlcjogZnVuY3Rpb24gdG9SZWdpc3RlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goInJlZ2lzdGVyIik7CiAgICB9LAogICAgdG9Gb3JnZXQ6IGZ1bmN0aW9uIHRvRm9yZ2V0KCkgewogICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcygi6YKj5oiR5Lmf5rKh5Yqe5rOV5LqGIik7CiAgICAgIHJldHVybjsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["C:\\Users\\Owen Liu\\Desktop\\稳定版\\HCI\\src\\components\\User\\Login.vue"],"names":[],"mappings":";;;;AA8CA;AACA,SAAS,IAAT,QAAqB,mBAArB;AACA,SAAS,YAAT,EAAuB,QAAvB,QAAuC,MAAvC;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,QAAQ,EAAE;AAFL,KAAP;AAID,GAPY;AAQb,EAAA,QAAQ,oBACH,QAAQ,CAAC;AACV,IAAA,GAAG,EAAE,aAAC,KAAD;AAAA,aAAW,KAAK,CAAC,GAAjB;AAAA,KADK;AAEV,IAAA,KAAK,EAAE,eAAC,KAAD;AAAA,aAAW,KAAK,CAAC,KAAjB;AAAA,KAFG;AAGV,IAAA,KAAK,EAAE,eAAC,KAAD;AAAA,aAAW,KAAK,CAAC,KAAjB;AAAA;AAHG,GAAD,CADL,CARK;AAeb,EAAA,OAAO,kCACF,YAAY,CAAC,CAAC,aAAD,CAAD,CADV;AAEC,IAAA,KAFD,mBAES;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACP,kCAAkC,IAAlC,CAAuC,KAAI,CAAC,KAA5C,CADO;AAAA;AAAA;AAAA;;AAEV,gBAAA,KAAI,CAAC,OAAL,CAAa,KAAb,CAAmB,WAAnB;;AAFU;;AAAA;AAAA,sBAKR,KAAI,CAAC,QAAL,CAAc,MAAd,GAAuB,CALf;AAAA;AAAA;AAAA;;AAMV,gBAAA,KAAI,CAAC,OAAL,CAAa,KAAb,CAAmB,gBAAnB;;AANU;;AAAA;AAAA,sBASR,CAAC,KAAI,CAAC,QAAN,IAAkB,CAAC,KAAI,CAAC,KAThB;AAAA;AAAA;AAAA;;AAUV,gBAAA,KAAI,CAAC,OAAL,CAAa,KAAb,CAAmB,UAAnB;;AAVU;;AAAA;AAAA;AAAA,uBAcI,IAAI,CAAC,YAAD,EAAe;AACjC,kBAAA,IAAI,EAAE,KAAI,CAAC,KADsB;AAEjC,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAFkB,iBAAf,CAdR;;AAAA;AAcR,gBAAA,GAdQ;;AAAA,oBAmBP,GAAG,CAAC,OAnBG;AAAA;AAAA;AAAA;;AAoBV,gBAAA,KAAI,CAAC,OAAL,CAAa,KAAb,CAAmB,GAAG,CAAC,OAAvB;;AACA,gBAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,GAArB;AArBU;;AAAA;AAyBR,gBAAA,GAzBQ,GAyBF,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAzBE;;AA0BZ,gBAAA,KAAI,CAAC,WAAL,CAAiB,GAAjB,EAAsB,KAAI,CAAC,IAA3B,EAAiC,KAAI,CAAC,QAAtC;;AACA,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;;AA3BY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4Bb,KA9BI;AA+BL,IAAA,UA/BK,wBA+BQ;AACX,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACD,KAjCI;AAkCL,IAAA,QAlCK,sBAkCM;AACT,WAAK,OAAL,CAAa,OAAb,CAAqB,SAArB;AACA;AACD;AArCI;AAfM,CAAf","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div style=\"display: flex; justify-content: center; margin-top: 5%\">\r\n      <el-card style=\"max-width: 500px\">\r\n        <div class=\"card\">\r\n          <img src=\"../../assets/images.webp\" />\r\n          <div style=\"text-align: center; font-weight: bold; font-size: 20px\">\r\n            HRKG\r\n          </div>\r\n          <div style=\"text-align: center; font-weight: bold; margin-top: 16px\">\r\n            登录\r\n          </div>\r\n          <div style=\"margin-top: 16px\">\r\n            <el-input\r\n              v-model=\"email\"\r\n              placeholder=\"郵箱\"\r\n              style=\"width: 200px\"\r\n              prefix-icon=\"el-icon-user\"\r\n            ></el-input>\r\n          </div>\r\n          <div style=\"margin-top: 16px\">\r\n            <el-input\r\n              v-model=\"password\"\r\n              placeholder=\"密码\"\r\n              style=\"width: 200px\"\r\n              show-password\r\n              prefix-icon=\"el-icon-lock\"\r\n            ></el-input>\r\n          </div>\r\n          <div style=\"margin-top: 16px\">\r\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n          </div>\r\n          <div style=\"margin-top: 16px\">\r\n            <el-button type=\"warning\" @click=\"toRegister\">注册</el-button>\r\n          </div>\r\n          <div style=\"margin-top: 16px\">\r\n            <el-button type=\"text\" @click=\"toForget\">忘记密码</el-button>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n/*eslint-disable*/\r\nimport { post } from \"../../api/Request\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      uid: (state) => state.uid,\r\n      umail: (state) => state.umail,\r\n      upass: (state) => state.upass,\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"setUserInfo\"]),\r\n    async login() {\r\n      if (!/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/.test(this.email)) {\r\n        this.$notify.error(\"邮箱格式不符合要求\");\r\n        return;\r\n      }\r\n      if (this.password.length < 6) {\r\n        this.$notify.error(\"密码长度需要大于等于6个字符\");\r\n        return;\r\n      }\r\n      if (!this.password && !this.email) {\r\n        this.$notify.error(\"输入内容不能为空\");\r\n        return;\r\n      }\r\n\r\n      let res = await post(\"/checkUser\", {\r\n        mail: this.email,\r\n        password: this.password,\r\n      });\r\n\r\n      if (!res.success) {\r\n        this.$notify.error(res.message);\r\n        console.log(\"wrong\", res);\r\n        return;\r\n      }\r\n\r\n      let uid = res.content[\"id\"];\r\n      this.setUserInfo(uid, this.mail, this.password);\r\n      this.$router.push(\"/lobby\");\r\n    },\r\n    toRegister() {\r\n      this.$router.push(\"register\");\r\n    },\r\n    toForget() {\r\n      this.$notify.success(\"那我也没办法了\");\r\n      return;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: 100% 100%;\r\n  background-image: url(\"../../assets/test.jpg\");\r\n}\r\n.card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}