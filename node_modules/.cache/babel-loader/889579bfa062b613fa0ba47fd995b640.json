{"remainingRequest":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\EditBar\\EditBar.js?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\src\\components\\EditBar\\EditBar.js","mtime":1640103743622},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639148470021},{"path":"C:\\Users\\Zhaoning\\Desktop\\HCI\\node_modules\\babel-loader\\lib\\index.js","mtime":1639148468681}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQzovVXNlcnMvWmhhb25pbmcvRGVza3RvcC9IQ0kvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL1poYW9uaW5nL0Rlc2t0b3AvSENJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL1poYW9uaW5nL0Rlc2t0b3AvSENJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGlucHV0S0cgfSBmcm9tICIuLi8uLi9hcGkvYmFzaWNBUEkiOwppbXBvcnQgT3BJdGVtIGZyb20gJy4vT3BJdGVtJzsKaW1wb3J0IEVkaXRCYXJCbG9jayBmcm9tICIuL0VkaXRCYXJCbG9jayI7CmltcG9ydCBNeUJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9vbHMvTXlCdXR0b24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkaXRCYXIiLAogIGNvbXBvbmVudHM6IHsKICAgIE9wSXRlbTogT3BJdGVtLAogICAgRWRpdEJhckJsb2NrOiBFZGl0QmFyQmxvY2ssCiAgICBNeUJ1dHRvbjogTXlCdXR0b24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93RWRpdEJhcjogdHJ1ZSwKICAgICAgc2hvd0V4cG9ydE9wczogZmFsc2UsCiAgICAgIG9wSW5mbzogJ+acquS/neWtmOeahOS/ruaUueWwhuiiq+S4ouW8g+S4lOaXoOazleaBouWkjScsCiAgICAgIGVudGl0aWVzX2RhdGE6IFtdLAogICAgICByZWxhdGlvbnNfZGF0YTogW10sCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy/ov4fmu6Tnm7jlhbMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICBmaWx0ZXJfbm9kZV9jaGVja0xpc3Q6IFtdLAogICAgICBmaWx0ZXJfZWRnZV9jaGVja0xpc3Q6IFtdLAogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8v5bGV56S65pWI5p6c55u45YWzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgbGF5b3V0OiBudWxsLAogICAgICBsYXlvdXRUeXBlTm93OiAnJywKICAgICAgcmVsYXRpb25fbGFiZWxfZW5hYmxlZDogdHJ1ZSwKICAgICAgZm9udF9zaXplOiAyMCwKICAgICAgbm9kZV9yYWRpdXM6IDIwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGN5OiBmdW5jdGlvbiBjeShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgdGhpcy5nZXRfc3RhdGlzdGljX2RhdGEoKTsKICAgICAgdGhpcy5sYXlvdXRUeXBlTm93ID0gbmV3VmFsdWUub3B0aW9ucygpLmxheW91dC5uYW1lOwogICAgfSwKICAgIHN0YXRpc3RpY19kYXRhX2NoYW5nZTogZnVuY3Rpb24gc3RhdGlzdGljX2RhdGFfY2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBjb25zb2xlLmxvZygi5qOA5rWL5Yiw5pWw5o2u5Y+Y5YyWIik7CiAgICAgIHRoaXMuZ2V0X3N0YXRpc3RpY19kYXRhKCk7CiAgICB9LAogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy/lsZXnpLrnm7jlhbMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIGxheW91dFR5cGVOb3c6IGZ1bmN0aW9uIGxheW91dFR5cGVOb3cobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coImxheW91dCB3YXRjaGVkOiAnIixvbGRWYWwsIicgdG8gJyIsbmV3VmFsLCInIik7CiAgICAgIHZhciBsYXlvdXQgPSB0aGlzLmxheW91dDsKCiAgICAgIGlmIChsYXlvdXQgIT09IG51bGwpIHsKICAgICAgICBsYXlvdXQuc3RvcCgpOwogICAgICB9CgogICAgICBpZiAobmV3VmFsID09PSAncHJlc2V0JykgewogICAgICAgIC8vY29uc29sZS5sb2coImVsZW1lbnRzIHN0b3JlZDogIix0aGlzLmVsZW1lbnRzKTsKICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLmVsZW1lbnRzLm5vZGVzOwoKICAgICAgICB2YXIgcG9zaXRpb25zID0gZnVuY3Rpb24gcG9zaXRpb25zKG5vZGUpIHsKICAgICAgICAgIHZhciBub2RlSWQgPSBub2RlLmRhdGEoImlkIik7CgogICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG5vZGVzKSwKICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBfbm9kZSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICBpZiAoX25vZGUuZGF0YS5pZCA9PT0gbm9kZUlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX25vZGUucG9zaXRpb247CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgeDogMCwKICAgICAgICAgICAgeTogMAogICAgICAgICAgfTsgLy/lj6/ku6Xmi5PlsZXmiJDpmo/mnLrmlL7nva4KICAgICAgICB9OwoKICAgICAgICBsYXlvdXQgPSB0aGlzLmN5LmxheW91dCh7CiAgICAgICAgICBuYW1lOiBuZXdWYWwsCiAgICAgICAgICBmaXQ6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbnM6IHBvc2l0aW9ucwogICAgICAgIH0pOyAvL+iLpeS7peWQjuaBouWkjeeahOW4g+WxgOS4reaWsOWinuminOiJsuOAgeWkp+Wwj+etie+8jOWPr+iDvemcgOimgeS4uuWinuWKoOeahOmDqOWIhua4suafk+WGheWuueaWsOWGmeS7o+eggQogICAgICAgIC8vY29uc29sZS5sb2coInJlc2V0IGRvbmUiKQogICAgICB9IGVsc2UgaWYgKG5ld1ZhbCA9PT0gJ2QzLWZvcmNlJykgewogICAgICAgIHZhciBkM19vcHRpb25zID0gewogICAgICAgICAgbmFtZTogJ2QzLWZvcmNlJywKICAgICAgICAgIGFuaW1hdGU6IHRydWUsCiAgICAgICAgICBmaXQ6IHRydWUsCiAgICAgICAgICAvL+mAguW6lHZpZXdwb3J0CiAgICAgICAgICBmaXhlZEFmdGVyRHJhZ2dpbmc6IGZhbHNlLAogICAgICAgICAgbGlua0lkOiBmdW5jdGlvbiBpZChkKSB7CiAgICAgICAgICAgIHJldHVybiBkLmlkOwogICAgICAgICAgfSwKICAgICAgICAgIGxpbmtEaXN0YW5jZTogMTAwMCwKICAgICAgICAgIG1hbnlCb2R5U3RyZW5ndGg6IC0xMDAwMCwKICAgICAgICAgIHJlYWR5OiBmdW5jdGlvbiByZWFkeSgpIHt9LAogICAgICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHt9LAogICAgICAgICAgdGljazogZnVuY3Rpb24gdGljayhwcm9ncmVzcykgey8vIGNvbnNvbGUubG9nKCdwcm9ncmVzcyAtICcsIHByb2dyZXNzKTsKICAgICAgICAgIH0sCiAgICAgICAgICByYW5kb21pemU6IGZhbHNlLAogICAgICAgICAgaW5maW5pdGU6IHRydWUKICAgICAgICB9OwogICAgICAgIGxheW91dCA9IHRoaXMuY3kubGF5b3V0KGQzX29wdGlvbnMpOwogICAgICB9IGVsc2UgewogICAgICAgIGxheW91dCA9IHRoaXMuY3kubGF5b3V0KHsKICAgICAgICAgIG5hbWU6IG5ld1ZhbCwKICAgICAgICAgIGZpdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmxheW91dCA9IGxheW91dDsKICAgICAgdGhpcy5sYXlvdXQucnVuKCk7CiAgICB9LAogICAgcmVsYXRpb25fbGFiZWxfZW5hYmxlZDogZnVuY3Rpb24gcmVsYXRpb25fbGFiZWxfZW5hYmxlZChuZXdWYWwsIG9sZFZhbCkgewogICAgICB2YXIgZWRnZXMgPSB0aGlzLmN5LmVkZ2VzKCk7CiAgICAgIHZhciBlbmFibGVkID0gbmV3VmFsOwoKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihlZGdlcyksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZWRnZSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoZW5hYmxlZCAmJiBlZGdlLmhhc0NsYXNzKCdsYWJlbF9oaWRkZW4nKSkgewogICAgICAgICAgICBlZGdlLnJlbW92ZUNsYXNzKCdsYWJlbF9oaWRkZW4nKTsKICAgICAgICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgIWVkZ2UuaGFzQ2xhc3MoJ2xhYmVsX2hpZGRlbicpKSB7CiAgICAgICAgICAgIGVkZ2UuYWRkQ2xhc3MoJ2xhYmVsX2hpZGRlbicpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBmb250X3NpemU6IGZ1bmN0aW9uIGZvbnRfc2l6ZShuZXdWYWwsIG9sZFZhbCkgewogICAgICAvLyBsZXQgZGVmYXVsdFNpemUgPSAnMjVweCc7Ly/pu5jorqTlgLzvvIwyNXB45piv55yLd29ya3NwYWNl5om+5Yiw55qECiAgICAgIGlmIChuZXdWYWwgPT09ICcnKSB7CiAgICAgICAgdGhpcy5zZXROb2RlRm9udFNpemUoJycpOyAvL+WQjOatpeaUueWPmHdvcmtzcGFjZeS4reeahG5vZGVOb2RlRm9udFNpemUKICAgICAgICAvL0N5dG9zY2FwZUtH5Lit5Zyo55uR5ZCs5Yiwd29ya3NwYWNl5Litbm9kZUZvbnRTaXpl5Yia5Y+Y5ZueJyfml7YKICAgICAgICAvL+S8muagueaNruiKgueCueWkp+Wwj+WSjOWtl+aVsOmHjeaWsOa4suafk+WQhOS4quiKgueCueeahOWtl+S9k+Wkp+Wwj++8jOaJgOS7peS4jeiDveeUqOe7n+S4gOm7mOiupOWAvAogICAgICAgIC8v5q2k5aSE5LuA5LmI5Lmf5LiN6ZyA6KaB5YGa77yM5Zug5Li6Q3l0b3NjYXBlS0fph4zlgZrkuoYKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgc2l6ZSA9IE51bWJlcihuZXdWYWwpOwoKICAgICAgaWYgKCFpc05hTihzaXplKSkgewogICAgICAgIHRoaXMuc2V0Tm9kZUZvbnRTaXplKG5ld1ZhbCk7IC8v5ZCM5q2l5pS55Y+Yd29ya3NwYWNl5Lit55qEbm9kZU5vZGVGb250U2l6ZQoKICAgICAgICBzaXplID0gcGFyc2VJbnQoc2l6ZSk7CgogICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5jeS5ub2RlcygpKSwKICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICAgIG5vZGUuc3R5bGUoJ2ZvbnQtc2l6ZScsIHNpemUgKyAncHgnKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG5ld1ZhbCAhPT0gJycpIHsKICAgICAgICAgIHRoaXMuaW5mb3JtTXNnKCdlcnJvcicsICfor7fovpPlhaXmlbDlrZcnKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2V0Tm9kZUZvbnRTaXplKCcnKTsgLy/lkIzmraXmlLnlj5h3b3Jrc3BhY2XkuK3nmoRub2RlTm9kZUZvbnRTaXplCiAgICAgICAgLy9DeXRvc2NhcGVLR+S4reWcqOebkeWQrOWIsHdvcmtzcGFjZeS4rW5vZGVGb250U2l6ZeWImuWPmOWbnicn5pe2CiAgICAgICAgLy/kvJrmoLnmja7oioLngrnlpKflsI/lkozlrZfmlbDph43mlrDmuLLmn5PlkITkuKroioLngrnnmoTlrZfkvZPlpKflsI/vvIzmiYDku6XkuI3og73nlKjnu5/kuIDpu5jorqTlgLwKICAgICAgICAvL+atpOWkhOS7gOS5iOS5n+S4jemcgOimgeWBmu+8jOWboOS4ukN5dG9zY2FwZUtH6YeM5YGa5LqGCiAgICAgIH0KICAgIH0sCiAgICBub2RlX3JhZGl1czogZnVuY3Rpb24gbm9kZV9yYWRpdXMobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCA9PT0gJycpIHsKICAgICAgICB0aGlzLnNldE5vZGVSYWRpdXMoJycpOyAvL+WQjOatpeaUueWPmHdvcmtzcGFjZeS4reeahG5vZGVSYWRpdXMKCiAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmN5Lm5vZGVzKCkpLAogICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgbm9kZS5yZW1vdmVTdHlsZSgnd2lkdGgnKTsKICAgICAgICAgICAgbm9kZS5yZW1vdmVTdHlsZSgnaGVpZ2h0Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciByYWRpdXMgPSBOdW1iZXIobmV3VmFsKTsKCiAgICAgIGlmICghaXNOYU4ocmFkaXVzKSkgewogICAgICAgIHJhZGl1cyA9IHBhcnNlSW50KHJhZGl1cyk7CiAgICAgICAgdmFyIHJlYWxSYWRpdXMgPSByYWRpdXMgKiAyOwogICAgICAgIHRoaXMuc2V0Tm9kZVJhZGl1cyhyZWFsUmFkaXVzICsgIiIpOyAvL+WQjOatpeaUueWPmHdvcmtzcGFjZeS4reeahG5vZGVSYWRpdXMKCiAgICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmN5Lm5vZGVzKCkpLAogICAgICAgICAgICBfc3RlcDU7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgX25vZGUyID0gX3N0ZXA1LnZhbHVlOwoKICAgICAgICAgICAgLy/mmK/kuI3mmK/opoHmlLnmiJDnrYnmr5TkvovmianlpKfvvJ8KICAgICAgICAgICAgX25vZGUyLnN0eWxlKCd3aWR0aCcsIHJlYWxSYWRpdXMgKyAncHgnKTsKCiAgICAgICAgICAgIF9ub2RlMi5zdHlsZSgnaGVpZ2h0JywgcmVhbFJhZGl1cyArICdweCcpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNldE5vZGVSYWRpdXMoJycpOyAvL+WQjOatpeaUueWPmHdvcmtzcGFjZeS4reeahG5vZGVSYWRpdXMKCiAgICAgICAgaWYgKG5ld1ZhbCAhPT0gJycpIHsKICAgICAgICAgIHRoaXMuaW5mb3JtTXNnKCdlcnJvcicsICfor7fovpPlhaXmlbDlrZcnKTsKICAgICAgICB9CgogICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5jeS5ub2RlcygpKSwKICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIF9ub2RlMyA9IF9zdGVwNi52YWx1ZTsKCiAgICAgICAgICAgIF9ub2RlMy5yZW1vdmVTdHlsZSgnd2lkdGgnKTsKCiAgICAgICAgICAgIF9ub2RlMy5yZW1vdmVTdHlsZSgnaGVpZ2h0Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBjeTogZnVuY3Rpb24gY3koc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLndvcmtzcGFjZS5jeTsKICAgIH0sCiAgICBzdGF0aXN0aWNfZGF0YV9jaGFuZ2U6IGZ1bmN0aW9uIHN0YXRpc3RpY19kYXRhX2NoYW5nZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUud29ya3NwYWNlLnN0YXRpc3RpY19kYXRhX2NoYW5nZTsKICAgIH0sCiAgICBub2RlVHlwZTogZnVuY3Rpb24gbm9kZVR5cGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLndvcmtzcGFjZS5ub2RlVHlwZTsKICAgIH0sCiAgICBlZGdlVHlwZTogZnVuY3Rpb24gZWRnZVR5cGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLndvcmtzcGFjZS5lZGdlVHlwZTsKICAgIH0sCiAgICBsYXlvdXRUeXBlOiBmdW5jdGlvbiBsYXlvdXRUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS53b3Jrc3BhY2UubGF5b3V0VHlwZTsKICAgIH0sCiAgICBlbGVtZW50czogZnVuY3Rpb24gZWxlbWVudHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLndvcmtzcGFjZS5lbGVtZW50czsKICAgIH0sCiAgICBwaWQ6IGZ1bmN0aW9uIHBpZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucGlkOwogICAgfQogIH0pKSwge30sIHsKICAgIG5vZGVfY2hlY2tMaXN0X2Rpc2FibGVkOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiAhdGhpcy5maWx0ZXJfbm9kZV9jaGVja2VkOwogICAgICB9CiAgICB9LAogICAgZWRnZV9jaGVja0xpc3RfZGlzYWJsZWQ6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuICF0aGlzLmZpbHRlcl9lZGdlX2NoZWNrZWQ7CiAgICAgIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ3NldEpzb25TcmNQYXRoJywgJ3NldFNlQ3VycmVudFNlYXJjaFBhcmFtcycsICdzZXRDdXJyZW50U2VhcmNoUmVzdWx0JywgJ3NldE5vZGVSYWRpdXMnLCAnc2V0Tm9kZUZvbnRTaXplJywgJ3NldFByb2plY3QnLCAnY2hhbmdlU2hvd1FBUGFuZWwnLCAnY2hhbmdlRWRpdEd1aWRlU3RlcCcsICdjaGFuZ2VJc0VkaXRHdWlkZVNob3cnXSkpLCB7fSwgewogICAgY2hhbmdlRWRpdEJhclN0YXRlOiBmdW5jdGlvbiBjaGFuZ2VFZGl0QmFyU3RhdGUoKSB7CiAgICAgIHRoaXMuc2hvd0VkaXRCYXIgPSAhdGhpcy5zaG93RWRpdEJhcjsKICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjaG9vc2UtZmlsZSIpWzBdLmNsaWNrKCk7CiAgICB9LAogICAgZ2V0RmlsZVBhdGg6IGZ1bmN0aW9uIGdldEZpbGVQYXRoKCkgewogICAgICAvL+iOt+WPluivu+WPluaIkeaWh+S7tueahEZpbGXlr7nosaEKICAgICAgdmFyIHNlbGVjdGVkRmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImNob29zZS1maWxlIilbMF0uZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOyAvL+i/meaYr+aguOW/gyzor7vlj5bmk43kvZzlsLHmmK/nlLHlroPlrozmiJAuCgogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChzZWxlY3RlZEZpbGUpOwogICAgICByZWFkZXIudGhhdCA9IHRoaXM7CgogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8v5b2T6K+75Y+W5a6M5oiQ5ZCO5Zue6LCD6L+Z5Liq5Ye95pWwLOeEtuWQjuatpOaXtuaWh+S7tueahOWGheWuueWtmOWCqOWIsOS6hnRoaXMucmVzdWx05LitLOebtOaOpeaTjeS9nOWNs+WPrwogICAgICAgIHRoaXMudGhhdC5zZXRKc29uU3JjUGF0aCh0aGlzLnJlc3VsdCk7CiAgICAgIH07CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0ge307CiAgICAgIHZhciBncmFwaERhdGEgPSB0aGlzLmdldERhdGFKc29uT2JqZWN0KCk7CiAgICAgIGRhdGEgPSB7CiAgICAgICAgbm9kZXM6IGdyYXBoRGF0YS5ub2RlcywKICAgICAgICBlZGdlczogZ3JhcGhEYXRhLmVkZ2VzCiAgICAgIH07CiAgICAgIGRhdGEgPSB0aGlzLmdldENsZWFuRGF0YShkYXRhKTsKICAgICAgY29uc29sZS5sb2coIuimgeS/neWtmOeahOaVsOaNru+8miIsIGRhdGEpOwogICAgICB2YXIgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogJy4uLuS/neWtmOS4rS4uLicsCiAgICAgICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsMjU1LCAwLjgpJwogICAgICB9KTsKICAgICAgaW5wdXRLRyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRhdGEpLCB7fSwgewogICAgICAgIHBpZDogdGhpcy5waWQKICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMuc2V0UHJvamVjdChkYXRhKTsKCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip8nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S/neWtmOWksei0pScpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CgogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfnvZHnu5zplJnor6/miJbmnI3liqHlmajplJnor68nKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VFeHBvcnRTdGF0ZTogZnVuY3Rpb24gY2hhbmdlRXhwb3J0U3RhdGUoKSB7CiAgICAgIHRoaXMuc2hvd0V4cG9ydE9wcyA9ICF0aGlzLnNob3dFeHBvcnRPcHM7CiAgICB9LAoKICAgIC8qKgogICAgICog5a+85Ye65YWo5bGA5Zu+54mHLgogICAgICogb3B0aW9uczogVGhlIGV4cG9ydCBvcHRpb25zLgogICAgIG91dHB1dO+8miBXaGV0aGVyIHRoZSBvdXRwdXQgc2hvdWxkIGJlICdiYXNlNjR1cmknIChkZWZhdWx0KSwgJ2Jhc2U2NCcsICdibG9iJywgb3IgJ2Jsb2ItcHJvbWlzZScgKGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBibG9iIGlzIHJldHVybmVkKS4KICAgICBiZzogVGhlIGJhY2tncm91bmQgY29sb3VyIG9mIHRoZSBpbWFnZSAodHJhbnNwYXJlbnQgYnkgZGVmYXVsdCkuCiAgICAgZnVsbDogV2hldGhlciB0byBleHBvcnQgdGhlIGN1cnJlbnQgdmlld3BvcnQgdmlldyAoZmFsc2UsIGRlZmF1bHQpIG9yIHRoZSBlbnRpcmUgZ3JhcGggKHRydWUpLgogICAgIHNjYWxlOiBUaGlzIHZhbHVlIHNwZWNpZmllcyBhIHBvc2l0aXZlIG51bWJlciB0aGF0IHNjYWxlcyB0aGUgc2l6ZSBvZiB0aGUgcmVzdWx0YW50IGltYWdlLgogICAgIG1heFdpZHRoOiBTcGVjaWZpZXMgdGhlIHNjYWxlIGF1dG9tYXRpY2FsbHkgaW4gY29tYmluYXRpb24gd2l0aCBtYXhIZWlnaHQgc3VjaCB0aGF0IHRoZSByZXN1bHRhbnQgaW1hZ2UgaXMgbm8gd2lkZXIgdGhhbiBtYXhXaWR0aC4KICAgICBtYXhIZWlnaHQ6IFNwZWNpZmllcyB0aGUgc2NhbGUgYXV0b21hdGljYWxseSBpbiBjb21iaW5hdGlvbiB3aXRoIG1heFdpZHRoIHN1Y2ggdGhhdCB0aGUgcmVzdWx0YW50IGltYWdlIGlzIG5vIHRhbGxlciB0aGFuIG1heEhlaWdodAogICAgICovCiAgICBleHBvcnRQbmc6IGZ1bmN0aW9uIGV4cG9ydFBuZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuato+WcqOWvvOWHuuWbvueJhy4uLiIpOwogICAgICB2YXIgYmxvYiA9IHRoaXMuY3kucG5nKHsKICAgICAgICBvdXRwdXQ6ICdibG9iLXByb21pc2UnLAogICAgICAgIGJnOiAnd2hpdGUnLAogICAgICAgIGZ1bGw6IHRydWUsCiAgICAgICAgc2NhbGU6IDQKICAgICAgfSk7CiAgICAgIGJsb2IudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy/liJvlu7rkuIvovb3pk77mjqUKICAgICAgICB2YXIgYUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgYUxpbmsuZG93bmxvYWQgPSBfdGhpczIuZ2VuZXJhdGVGaWxlTmFtZSgpICsgJy5wbmcnOwogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChyZXMpOwogICAgICAgIGFMaW5rLmhyZWYgPSB1cmw7IC8v5Yib5bu644CB5YiG6YWN5bm26Kem5Y+R54K55Ye75LqL5Lu2CgogICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTsKICAgICAgICBldnQuaW5pdEV2ZW50KCJjbGljayIsIHRydWUsIHRydWUpOwogICAgICAgIGFMaW5rLmRpc3BhdGNoRXZlbnQoZXZ0KTsgLy8g6YeK5pS+5o6JYmxvYuWvueixoQoKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIG9jY3VyZWQ6ICIsIGVycik7CgogICAgICAgIGlmIChfdGhpczIuY3kuZWxlbWVudHMoKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi55+l6K+G5Zu+6LCx5bey57uP56m65ZWm77yM5a+85LiN5Ye65Lic6KW/55qE5ZGAIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDlr7nosaHmi7fotJ0KICAgICAqIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSnmiJHku6zkuIDoiKznlKjmnaXmt7Hmi7fotJ0KICAgICDkvYbkuI3mmK/lrozlhajmt7Hmi7fotJ3vvIzmnInku6XkuIvnibnngrnvvJoKICAgICAx44CB5aaC5p6cb2Jq6YeM6Z2i5pyJ5pe26Ze05a+56LGh77yM5YiZSlNPTi5zdHJpbmdpZnnlkI7lho1KU09OLnBhcnNl55qE57uT5p6c77yM5pe26Ze05bCG5Y+q5piv5a2X56ym5Liy55qE5b2i5byP44CC6ICM5LiN5piv5pe26Ze05a+56LGh77ybCiAgICAgMuOAgeWmguaenG9iaumHjOaciVJlZ0V4cOOAgUVycm9y5a+56LGh77yM5YiZ5bqP5YiX5YyW55qE57uT5p6c5bCG5Y+q5b6X5Yiw56m65a+56LGh77ybCiAgICAgM+OAgeWmguaenG9iaumHjOacieWHveaVsO+8jHVuZGVmaW5lZO+8jOWImeW6j+WIl+WMlueahOe7k+aenOS8muaKiuWHveaVsOaIliB1bmRlZmluZWTkuKLlpLHvvJsKICAgICA044CB5aaC5p6cb2Jq6YeM5pyJTmFO44CBSW5maW5pdHnlkowtSW5maW5pdHnvvIzliJnluo/liJfljJbnmoTnu5PmnpzkvJrlj5jmiJBudWxsCiAgICAgNeOAgUpTT04uc3RyaW5naWZ5KCnlj6rog73luo/liJfljJblr7nosaHnmoTlj6/mnprkuL7nmoToh6rmnInlsZ7mgKfvvIzkvovlpoIg5aaC5p6cb2Jq5Lit55qE5a+56LGh5piv5pyJ5p6E6YCg5Ye95pWw55Sf5oiQ55qE77yMIOWImeS9v+eUqEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSnmt7Hmi7fotJ3lkI7vvIzkvJrkuKLlvIPlr7nosaHnmoRjb25zdHJ1Y3Rvcu+8mwogICAgIDbjgIHlpoLmnpzlr7nosaHkuK3lrZjlnKjlvqrnjq/lvJXnlKjnmoTmg4XlhrXkuZ/ml6Dms5XmraPnoa7lrp7njrDmt7Hmi7fotJ3vvJsKICAgICAg5rOo77ya55Sx5LqO5YmN5ZCO56uv5pWw5o2u5qC85byP5LiN57uf5LiA77yM6L+Z6YeM5a+55pWw5o2u5qC85byP5YGa5LqG6L2s5YyW44CCCiAgICAg5pel5ZCO5YmNL+WQjuerr+acieS/ruaUueaXtui/memHjOmDveimgeaUue+8gQogICAgICovCiAgICBnZXREYXRhSnNvbk9iamVjdDogZnVuY3Rpb24gZ2V0RGF0YUpzb25PYmplY3QoKSB7CiAgICAgIHZhciBlbGVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmN5Lmpzb24oKS5lbGVtZW50cykpOyAvL+WFtuWunua3seaLt+i0neWPr+iDveayoeWVpeaEj+S5ie+8jOWPquaYr+WNlee6r+ebtOinieS4iuaDs+eUqOS4gOeUqCgq4pW54pa94pW5KikKCiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgImVkZ2VzIjogW10sCiAgICAgICAgIm5vZGVzIjogW10KICAgICAgfTsKCiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShlbGVzKSAhPT0gJ3t9JykgewogICAgICAgIGlmIChlbGVzLmVkZ2VzICE9PSB1bmRlZmluZWQgJiYgZWxlcy5lZGdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBlbGVzLmVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBvYmouZWRnZXMucHVzaCh7CiAgICAgICAgICAgICAgZGF0YTogdmFsLmRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChlbGVzLm5vZGVzICE9PSB1bmRlZmluZWQgJiYgZWxlcy5ub2Rlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBlbGVzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBvYmoubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgZGF0YTogdmFsLmRhdGEsCiAgICAgICAgICAgICAgcG9zaXRpb246IHZhbC5wb3NpdGlvbgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBnZXRDbGVhbkRhdGE6IGZ1bmN0aW9uIGdldENsZWFuRGF0YShlbGVzKSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgImVkZ2VzIjogW10sCiAgICAgICAgIm5vZGVzIjogW10KICAgICAgfTsKCiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShlbGVzKSAhPT0gJ3t9JykgewogICAgICAgIGlmIChlbGVzLmVkZ2VzICE9PSB1bmRlZmluZWQgJiYgZWxlcy5lZGdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBlbGVzLmVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBvYmouZWRnZXMucHVzaCh7CiAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgaWQ6IHZhbC5kYXRhLmlkLAogICAgICAgICAgICAgICAgdHlwZTogdmFsLmRhdGEudHlwZSwKICAgICAgICAgICAgICAgIHJlbGF0aW9uOiB2YWwuZGF0YS5yZWxhdGlvbiwKICAgICAgICAgICAgICAgIHNvdXJjZTogdmFsLmRhdGEuc291cmNlLAogICAgICAgICAgICAgICAgdGFyZ2V0OiB2YWwuZGF0YS50YXJnZXQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZWxlcy5ub2RlcyAhPT0gdW5kZWZpbmVkICYmIGVsZXMubm9kZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgZWxlcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgb2JqLm5vZGVzLnB1c2goewogICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIGlkOiB2YWwuZGF0YS5pZCwKICAgICAgICAgICAgICAgIHR5cGU6IHZhbC5kYXRhLnR5cGUsCiAgICAgICAgICAgICAgICBuYW1lOiB2YWwuZGF0YS5uYW1lLAogICAgICAgICAgICAgICAgcHJvcGVydHk6IHZhbC5kYXRhLnByb3BlcnR5CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBwb3NpdGlvbjogdmFsLnBvc2l0aW9uCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfSwKICAgIGV4cG9ydEpzb246IGZ1bmN0aW9uIGV4cG9ydEpzb24oKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoIuato+WcqOWvvOWHumpzb24uLi4iKTsgLy/mnInnqbrkuZ/lj6/ku6XmlLnmiJBwcm9taXNl5byP55qECgogICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RGF0YUpzb25PYmplY3QoKTsKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5nZW5lcmF0ZUZpbGVOYW1lKCkgKyAnLmpzb24nOwoKICAgICAgaWYgKF90eXBlb2YoZGF0YSkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEsIHVuZGVmaW5lZCwgNCk7CiAgICAgIH0gLy8g6KaB5Yib5bu65LiA5LiqIGJsb2Ig5pWw5o2uCgoKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHsKICAgICAgICB0eXBlOiAndGV4dC9qc29uJwogICAgICB9KSwKICAgICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZTsgLy8g5bCGYmxvYui9rOaNouS4uuWcsOWdgAogICAgICAvLyDliJvlu7ogVVJMIOeahCBCbG9iIOWvueixoQoKICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICBhLmhyZWYgPSB1cmw7IC8vIOagh+etviBkYXRhLSDltYzlhaXoh6rlrprkuYnlsZ7mgKcgIOWxj+iUveWQjuS5n+WPr+ato+W4uOS4i+i9vQoKICAgICAgYS5kYXRhc2V0LmRvd25sb2FkdXJsID0gWyd0ZXh0L2pzb24nLCBhLmRvd25sb2FkLCBhLmhyZWZdLmpvaW4oJzonKTsgLy8g5re75Yqg6byg5qCH5LqL5Lu25bm25ZCR5LiA5Liq5oyH5a6a55qE5LqL5Lu255uu5qCH5rS+5Y+RCgogICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpOwogICAgICBlLmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIGZhbHNlLCB3aW5kb3csIDAsIDAsIDAsIDAsIDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTsKICAgICAgYS5kaXNwYXRjaEV2ZW50KGUpOyAvLyDph4rmlL7mjolibG9i5a+56LGhCgogICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgfSwKICAgIGdlbmVyYXRlRmlsZU5hbWU6IGZ1bmN0aW9uIGdlbmVyYXRlRmlsZU5hbWUoKSB7CiAgICAgIHZhciBuYW1lID0gIiI7CgogICAgICB0cnkgewogICAgICAgIC8vIFRPRE86IOmhueebruWQjQogICAgICAgIG5hbWUgPSB0aGlzLmN1cnJlbnRfcHJvamVjdC5wcm9qZWN0X25hbWU7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3Igb2NjdXJzOiIgKyBlKTsKICAgICAgICBjb25zb2xlLmxvZygi5Y+v6IO95pyq6L+e5o6l5YiwU2VydmVyIik7CiAgICAgICAgbmFtZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICB9CgogICAgICByZXR1cm4gbmFtZTsKICAgIH0sCiAgICBzaG93R3VpZGU6IGZ1bmN0aW9uIHNob3dHdWlkZSgpIHsKICAgICAgdGhpcy5jaGFuZ2VFZGl0R3VpZGVTdGVwKC0xMDApOwogICAgICB0aGlzLmNoYW5nZUVkaXRHdWlkZVN0ZXAoMSk7CiAgICAgIHRoaXMuY2hhbmdlSXNFZGl0R3VpZGVTaG93KCk7CiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W57uf6K6h5pWw5o2u77yM5Y2z57uZIGRhdGEg5Lit55qEIGVudGl0aWVzX2RhdGEg5ZKMIHJlbGFpb25zX2RhdGEg6LWL5YC8CiAgICAgKi8KICAgIGdldF9zdGF0aXN0aWNfZGF0YTogZnVuY3Rpb24gZ2V0X3N0YXRpc3RpY19kYXRhKCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RGF0YUpzb25PYmplY3QoKTsKICAgICAgdmFyIG5vZGVzID0gZGF0YS5ub2RlcywKICAgICAgICAgIGVkZ2VzID0gZGF0YS5lZGdlczsKICAgICAgdmFyIEVEYXRhID0gewogICAgICAgIGluZGl2aWR1YWw6IDAsCiAgICAgICAgb3JnYW5pemF0aW9uOiAwLAogICAgICAgIHRoaW5nOiAwLAogICAgICAgIGRlZmF1bHQ6IDAsCiAgICAgICAgdG90YWw6IG5vZGVzLmxlbmd0aAogICAgICB9OwoKICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihub2RlcyksCiAgICAgICAgICBfc3RlcDc7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNy5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICBpZiAoIShub2RlLmRhdGEudHlwZSA9PSAnaW5kaXZpZHVhbCcgfHwgbm9kZS5kYXRhLnR5cGUgPT0gJ29yZ2FuaXphdGlvbicgfHwgbm9kZS5kYXRhLnR5cGUgPT0gJ3RoaW5nJykpIHsKICAgICAgICAgICAgRURhdGFbJ2RlZmF1bHQnXSsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgRURhdGFbbm9kZS5kYXRhLnR5cGVdKys7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgfQoKICAgICAgdmFyIFJEYXRhID0gewogICAgICAgIGNvbm5lY3Rpb246IDAsCiAgICAgICAgaW5oZXJpdGFuY2U6IDAsCiAgICAgICAgZGVmYXVsdDogMCwKICAgICAgICB0b3RhbDogZWRnZXMubGVuZ3RoCiAgICAgIH07CgogICAgICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGVkZ2VzKSwKICAgICAgICAgIF9zdGVwODsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlZGdlID0gX3N0ZXA4LnZhbHVlOwogICAgICAgICAgUkRhdGFbZWRnZS5kYXRhLnR5cGVdKys7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I4LmYoKTsKICAgICAgfQoKICAgICAgdGhpcy5lbnRpdGllc19kYXRhID0gW0VEYXRhXTsKICAgICAgdGhpcy5yZWxhdGlvbnNfZGF0YSA9IFtSRGF0YV07CiAgICB9LAogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy/mraTlpITkuLrov4fmu6Tku6PnoIEvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIG5vZGVGaWx0ZXI6IGZ1bmN0aW9uIG5vZGVGaWx0ZXIoKSB7CiAgICAgIHZhciBjaGVja0xpc3QgPSB0aGlzLmZpbHRlcl9ub2RlX2NoZWNrTGlzdDsKICAgICAgdGhpcy5jeS5ub2RlcygpLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgIHZhciBoaXQgPSBjaGVja0xpc3QuaW5jbHVkZXModmFsLmRhdGEoJ3R5cGUnKSk7CgogICAgICAgIGlmIChoaXQgJiYgIXZhbC5oYXNDbGFzcygncmVtb3ZlZCcpKSB7CiAgICAgICAgICB2YWwuYWRkQ2xhc3MoJ3JlbW92ZWQnKTsKICAgICAgICB9IGVsc2UgaWYgKCFoaXQgJiYgdmFsLmhhc0NsYXNzKCdyZW1vdmVkJykpIHsKICAgICAgICAgIHZhbC5yZW1vdmVDbGFzcygncmVtb3ZlZCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZWRnZUZpbHRlcjogZnVuY3Rpb24gZWRnZUZpbHRlcigpIHsKICAgICAgdmFyIGNoZWNrTGlzdCA9IHRoaXMuZmlsdGVyX2VkZ2VfY2hlY2tMaXN0OwogICAgICB0aGlzLmN5LmVkZ2VzKCkuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgdmFyIGhpdCA9IGNoZWNrTGlzdC5pbmNsdWRlcyh2YWwuZGF0YSgndHlwZScpKTsKCiAgICAgICAgaWYgKGhpdCAmJiAhdmFsLmhhc0NsYXNzKCdoaWRkZW4nKSkgewogICAgICAgICAgdmFsLmFkZENsYXNzKCdoaWRkZW4nKTsKICAgICAgICB9IGVsc2UgaWYgKCFoaXQgJiYgdmFsLmhhc0NsYXNzKCdoaWRkZW4nKSkgewogICAgICAgICAgdmFsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG5vZGVEZWZpbHRlcjogZnVuY3Rpb24gbm9kZURlZmlsdGVyKCkgewogICAgICBpZiAodGhpcy5maWx0ZXJfbm9kZV9jaGVja0xpc3QubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgIHRoaXMuY3kubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBpZiAodmFsLmhhc0NsYXNzKCdyZW1vdmVkJykpIHsKICAgICAgICAgIHZhbC5yZW1vdmVDbGFzcygncmVtb3ZlZCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZmlsdGVyX25vZGVfY2hlY2tMaXN0ID0gW107CiAgICB9LAogICAgZWRnZURlZmlsdGVyOiBmdW5jdGlvbiBlZGdlRGVmaWx0ZXIoKSB7CiAgICAgIGlmICh0aGlzLmZpbHRlcl9lZGdlX2NoZWNrTGlzdC5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgdGhpcy5jeS5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgIGlmICh2YWwuaGFzQ2xhc3MoJ2hpZGRlbicpKSB7CiAgICAgICAgICB2YWwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZmlsdGVyX2VkZ2VfY2hlY2tMaXN0ID0gW107CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["C:/Users/Zhaoning/Desktop/HCI/src/components/EditBar/EditBar.js"],"names":["mapState","mapMutations","inputKG","OpItem","EditBarBlock","MyButton","name","components","data","showEditBar","showExportOps","opInfo","entities_data","relations_data","filter_node_checkList","filter_edge_checkList","layout","layoutTypeNow","relation_label_enabled","font_size","node_radius","watch","cy","newValue","oldValue","get_statistic_data","options","statistic_data_change","console","log","newVal","oldVal","stop","nodes","elements","positions","node","nodeId","id","position","x","y","fit","d3_options","animate","fixedAfterDragging","linkId","d","linkDistance","manyBodyStrength","ready","tick","progress","randomize","infinite","run","edges","enabled","edge","hasClass","removeClass","addClass","setNodeFontSize","size","Number","isNaN","parseInt","style","informMsg","setNodeRadius","removeStyle","radius","realRadius","computed","state","workspace","nodeType","edgeType","layoutType","pid","node_checkList_disabled","get","filter_node_checked","edge_checkList_disabled","filter_edge_checked","methods","changeEditBarState","open","document","getElementsByClassName","click","getFilePath","selectedFile","files","reader","FileReader","readAsDataURL","that","onload","setJsonSrcPath","result","save","graphData","getDataJsonObject","getCleanData","loading","$loading","lock","text","spinner","background","then","res","success","setProject","$message","error","catch","err","finally","close","changeExportState","exportPng","blob","png","output","bg","full","scale","aLink","createElement","download","generateFileName","url","window","URL","createObjectURL","href","evt","createEvent","initEvent","dispatchEvent","revokeObjectURL","length","eles","JSON","parse","stringify","json","obj","undefined","forEach","val","push","type","relation","source","target","property","exportJson","filename","Blob","a","dataset","downloadurl","join","e","initMouseEvent","current_project","project_name","Date","getTime","showGuide","changeEditGuideStep","changeIsEditGuideShow","EData","individual","organization","thing","default","total","RData","connection","inheritance","nodeFilter","checkList","hit","includes","edgeFilter","nodeDefilter","edgeDefilter"],"mappings":"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","sourcesContent":["import { mapState, mapMutations } from 'vuex';\nimport { inputKG } from \"../../api/basicAPI\";\nimport OpItem from './OpItem';\nimport EditBarBlock from \"./EditBarBlock\";\nimport MyButton from \"@/components/Tools/MyButton\";\n\n\nexport default {\n    name: \"EditBar\",\n    components: {OpItem,EditBarBlock, MyButton},\n    data(){\n        return{\n            showEditBar: true,\n            showExportOps: false,\n            opInfo: '未保存的修改将被丢弃且无法恢复',\n            entities_data: [],\n            relations_data: [],\n\n            //////////////////////过滤相关/////////////////////////////\n            filter_node_checkList: [],\n            filter_edge_checkList: [],\n\n            //////////////////////展示效果相关////////////////////////////////\n            layout: null,\n            layoutTypeNow : '',\n            relation_label_enabled: true,\n            font_size: 20,\n            node_radius: 20,\n        }\n    },\n    watch: {\n        cy(newValue, oldValue){\n            this.get_statistic_data();\n            this.layoutTypeNow = newValue.options().layout.name;\n        },\n        statistic_data_change(newValue, oldValue){\n            console.log(\"检测到数据变化\")\n            this.get_statistic_data();\n        },\n\n        /////////////////////////////展示相关//////////////////////////////\n        layoutTypeNow(newVal, oldVal) {\n            // console.log(\"layout watched: '\",oldVal,\"' to '\",newVal,\"'\");\n            let layout = this.layout;\n            if(layout!==null){\n                layout.stop();\n            }\n            if(newVal==='preset'){\n                //console.log(\"elements stored: \",this.elements);\n                let nodes = this.elements.nodes;\n                let positions = node=>{\n                    let nodeId = node.data(\"id\");\n                    for(let node of nodes){\n                        if(node.data.id===nodeId){\n                            return node.position;\n                        }\n                    }\n                    return {x:0,y:0};//可以拓展成随机放置\n                };\n                layout = this.cy.layout({name: newVal,fit:true,positions:positions});//若以后恢复的布局中新增颜色、大小等，可能需要为增加的部分渲染内容新写代码\n                //console.log(\"reset done\")\n\n            }else if(newVal==='d3-force'){\n                let d3_options = {\n                    name: 'd3-force',\n                    animate: true,\n                    fit: true,//适应viewport\n                    fixedAfterDragging: false,\n                    linkId: function id(d) {\n                        return d.id;\n                    },\n                    linkDistance: 1000,\n                    manyBodyStrength: -10000,\n                    ready: function(){},\n                    stop: function(){},\n                    tick: function(progress) {\n                        // console.log('progress - ', progress);\n                    },\n                    randomize: false,\n                    infinite: true\n                }\n                layout = this.cy.layout(d3_options)\n            }else{\n                layout = this.cy.layout({name: newVal, fit: true})\n            }\n            this.layout = layout;\n            this.layout.run();\n        },\n        relation_label_enabled(newVal, oldVal) {\n            let edges = this.cy.edges();\n            let enabled = newVal;\n            for (let edge of edges) {\n                if(enabled&&edge.hasClass('label_hidden')){\n                    edge.removeClass('label_hidden');\n                }else if(!enabled&&!edge.hasClass('label_hidden')){\n                    edge.addClass('label_hidden');\n                }\n            }\n        },\n        font_size(newVal, oldVal) {\n            // let defaultSize = '25px';//默认值，25px是看workspace找到的\n            if (newVal === '') {\n                this.setNodeFontSize('');//同步改变workspace中的nodeNodeFontSize\n                //CytoscapeKG中在监听到workspace中nodeFontSize刚变回''时\n                //会根据节点大小和字数重新渲染各个节点的字体大小，所以不能用统一默认值\n                //此处什么也不需要做，因为CytoscapeKG里做了\n                return;\n            }\n            let size = Number(newVal);\n            if (!isNaN(size)) {\n                this.setNodeFontSize(newVal);//同步改变workspace中的nodeNodeFontSize\n                size = parseInt(size);\n                for (let node of this.cy.nodes()) {\n                    node.style('font-size', size + 'px');\n                }\n            }\n            else {\n                if (newVal !== '') {\n                    this.informMsg('error','请输入数字');\n                }\n                this.setNodeFontSize('');//同步改变workspace中的nodeNodeFontSize\n                //CytoscapeKG中在监听到workspace中nodeFontSize刚变回''时\n                //会根据节点大小和字数重新渲染各个节点的字体大小，所以不能用统一默认值\n                //此处什么也不需要做，因为CytoscapeKG里做了\n            }\n        },\n        node_radius(newVal, oldVal) {\n            if (newVal === '') {\n                this.setNodeRadius('');//同步改变workspace中的nodeRadius\n                for (let node of this.cy.nodes()) {\n                    node.removeStyle('width');\n                    node.removeStyle('height');\n                }\n                return;\n            }\n            let radius = Number(newVal);\n            if (!isNaN(radius)) {\n                radius = parseInt(radius);\n                let realRadius = radius * 2;\n                this.setNodeRadius(realRadius+\"\");//同步改变workspace中的nodeRadius\n                for (let node of this.cy.nodes()) {//是不是要改成等比例扩大？\n                    node.style('width', realRadius + 'px');\n                    node.style('height', realRadius + 'px');\n                }\n            }\n            else {\n                this.setNodeRadius('');//同步改变workspace中的nodeRadius\n                if (newVal !== '') {\n                    this.informMsg('error','请输入数字');\n                }\n                for (let node of this.cy.nodes()) {\n                    node.removeStyle('width');\n                    node.removeStyle('height');\n                }\n            }\n        }\n    },\n    computed: {\n        ...mapState({\n            cy: state => state.workspace.cy,\n            statistic_data_change: state => state.workspace.statistic_data_change,\n            nodeType: state => state.workspace.nodeType,\n            edgeType: state => state.workspace.edgeType,\n            layoutType: state => state.workspace.layoutType,\n            elements: state => state.workspace.elements,\n            pid: state => state.pid,\n        }),\n        node_checkList_disabled: {\n            get() {\n                return !this.filter_node_checked;\n            }\n        },\n        edge_checkList_disabled: {\n            get() {\n                return !this.filter_edge_checked;\n            }\n\n        },\n    },\n    methods:{\n        ...mapMutations(['setJsonSrcPath', 'setSeCurrentSearchParams',\n            'setCurrentSearchResult','setNodeRadius','setNodeFontSize',\n            'setProject', 'changeShowQAPanel', 'changeEditGuideStep', 'changeIsEditGuideShow']),\n        changeEditBarState(){\n            this.showEditBar = !this.showEditBar;\n        },\n\n        open(){\n            document.getElementsByClassName(\"choose-file\")[0].click();\n        },\n\n        getFilePath(){\n            //获取读取我文件的File对象\n            let selectedFile = document.getElementsByClassName(\"choose-file\")[0].files[0];\n            let reader = new FileReader();//这是核心,读取操作就是由它完成.\n            reader.readAsDataURL(selectedFile)\n            reader.that = this;\n            reader.onload = function () {\n                //当读取完成后回调这个函数,然后此时文件的内容存储到了this.result中,直接操作即可\n                this.that.setJsonSrcPath(this.result);\n            }\n        },\n\n        save(){\n            let data = {};\n            let graphData = this.getDataJsonObject();\n            data = {\n                nodes: graphData.nodes,\n                edges: graphData.edges\n            };\n\n            data = this.getCleanData(data);\n            console.log(\"要保存的数据：\",data);\n\n            const loading = this.$loading({\n                lock: true,\n                text: '...保存中...',\n                spinner: 'el-icon-loading',\n                background: 'rgba(255, 255,255, 0.8)'\n            });\n            inputKG({...data, pid: this.pid}).then(res => {\n                if(res.success){\n                    this.setProject(data);\n                    this.$message.success('保存成功');\n                }else{\n                    this.$message.error( '保存失败')\n                }\n            }).catch( err => {\n                console.log(err);\n                this.$message.error('网络错误或服务器错误')\n            }).finally(() => {\n                loading.close();\n            })\n        },\n\n        changeExportState(){\n            this.showExportOps = !this.showExportOps;\n        },\n\n        /**\n         * 导出全局图片.\n         * options: The export options.\n         output： Whether the output should be 'base64uri' (default), 'base64', 'blob', or 'blob-promise' (a promise that resolves to the blob is returned).\n         bg: The background colour of the image (transparent by default).\n         full: Whether to export the current viewport view (false, default) or the entire graph (true).\n         scale: This value specifies a positive number that scales the size of the resultant image.\n         maxWidth: Specifies the scale automatically in combination with maxHeight such that the resultant image is no wider than maxWidth.\n         maxHeight: Specifies the scale automatically in combination with maxWidth such that the resultant image is no taller than maxHeight\n         */\n        exportPng(){\n            this.$message.success(\"正在导出图片...\");\n            let blob = this.cy.png({\n                output: 'blob-promise', bg: 'white',\n                full: true, scale: 4\n            });\n            blob.then(res => {\n                //创建下载链接\n                let aLink = document.createElement('a');\n                aLink.download = this.generateFileName() + '.png';\n                let url = window.URL.createObjectURL(res);\n                aLink.href = url;\n\n                //创建、分配并触发点击事件\n                let evt = document.createEvent(\"MouseEvents\");\n                evt.initEvent(\"click\", true, true);\n                aLink.dispatchEvent(evt);\n\n                // 释放掉blob对象\n                window.URL.revokeObjectURL(url);\n            }).catch(err => {\n                console.log(\"Error occured: \", err);\n                if (this.cy.elements().length === 0) {\n                    this.$message.error(\"知识图谱已经空啦，导不出东西的呀\");\n                }\n            });\n        },\n\n        /**\n         * 对象拷贝\n         * JSON.parse(JSON.stringify(obj))我们一般用来深拷贝\n         但不是完全深拷贝，有以下特点：\n         1、如果obj里面有时间对象，则JSON.stringify后再JSON.parse的结果，时间将只是字符串的形式。而不是时间对象；\n         2、如果obj里有RegExp、Error对象，则序列化的结果将只得到空对象；\n         3、如果obj里有函数，undefined，则序列化的结果会把函数或 undefined丢失；\n         4、如果obj里有NaN、Infinity和-Infinity，则序列化的结果会变成null\n         5、JSON.stringify()只能序列化对象的可枚举的自有属性，例如 如果obj中的对象是有构造函数生成的， 则使用JSON.parse(JSON.stringify(obj))深拷贝后，会丢弃对象的constructor；\n         6、如果对象中存在循环引用的情况也无法正确实现深拷贝；\n\n         注：由于前后端数据格式不统一，这里对数据格式做了转化。\n         日后前/后端有修改时这里都要改！\n         */\n        getDataJsonObject() {\n            let eles = JSON.parse(JSON.stringify(this.cy.json().elements));//其实深拷贝可能没啥意义，只是单纯直觉上想用一用(*╹▽╹*)\n            let obj = {\"edges\": [], \"nodes\": []};\n            if (JSON.stringify(eles) !== '{}') {\n                if (eles.edges !== undefined && eles.edges.length > 0) {\n                    eles.edges.forEach(val => {\n                        obj.edges.push({\n                            data: val.data\n                        });\n                    });\n                }\n                if (eles.nodes !== undefined && eles.nodes.length > 0) {\n                    eles.nodes.forEach(val => {\n                        obj.nodes.push({\n                            data: val.data,\n                            position: val.position\n                        });\n                    });\n                }\n            }\n            return obj;\n        },\n        getCleanData(eles) {\n            let obj = {\"edges\": [], \"nodes\": []};\n            if (JSON.stringify(eles) !== '{}') {\n                if (eles.edges !== undefined && eles.edges.length > 0) {\n                    eles.edges.forEach(val => {\n                        obj.edges.push({\n                            data: {\n                                id:val.data.id,\n                                type:val.data.type,\n                                relation:val.data.relation,\n                                source:val.data.source,\n                                target:val.data.target\n                            }\n                        });\n                    });\n                }\n                if (eles.nodes !== undefined && eles.nodes.length > 0) {\n                    eles.nodes.forEach(val => {\n                        obj.nodes.push({\n                            data: {\n                                id:val.data.id,\n                                type:val.data.type,\n                                name:val.data.name,\n                                property:val.data.property\n                            },\n                            position: val.position\n                        });\n                    });\n                }\n            }\n            return obj;\n        },\n        exportJson(){\n            this.$message(\"正在导出json...\");\n            //有空也可以改成promise式的\n            let data = this.getDataJsonObject();\n            let filename =  this.generateFileName() + '.json';\n            if(typeof data === 'object'){\n                data = JSON.stringify(data, undefined, 4)\n            }\n            // 要创建一个 blob 数据\n            let blob = new Blob([data], {type: 'text/json'}),\n                a = document.createElement('a');\n            a.download = filename;\n\n            // 将blob转换为地址\n            // 创建 URL 的 Blob 对象\n            let url = window.URL.createObjectURL(blob)\n            a.href = url;\n\n            // 标签 data- 嵌入自定义属性  屏蔽后也可正常下载\n            a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n\n            // 添加鼠标事件并向一个指定的事件目标派发\n            let e = document.createEvent('MouseEvents');\n            e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n            a.dispatchEvent(e);\n\n            // 释放掉blob对象\n            window.URL.revokeObjectURL(url);\n        },\n\n        generateFileName(){\n            let name = \"\";\n            try{\n                // TODO: 项目名\n                name = this.current_project.project_name;\n            }catch (e) {\n                console.log(\"Error occurs:\"+e);\n                console.log(\"可能未连接到Server\");\n                name = new Date().getTime();\n            }\n            return name;\n        },\n\n        showGuide() {\n            this.changeEditGuideStep(-100);\n            this.changeEditGuideStep(1);\n            this.changeIsEditGuideShow();\n        },\n\n        /**\n         * 获取统计数据，即给 data 中的 entities_data 和 relaions_data 赋值\n         */\n        get_statistic_data(){\n            let data = this.getDataJsonObject();\n            let nodes = data.nodes,\n                edges = data.edges;\n            let EData = {\n                individual: 0,\n                organization: 0,\n                thing: 0,\n                default: 0,\n                total: nodes.length\n            };\n            for (let node of nodes){\n                if (!(node.data.type == 'individual' || node.data.type == 'organization' || node.data.type == 'thing')){\n                    EData['default'] ++;\n                }else {\n                    EData[node.data.type] ++;\n                }\n            }\n            let RData = {\n                connection: 0,\n                inheritance: 0,\n                default: 0,\n                total: edges.length\n            }\n            for (let edge of edges){\n                RData[edge.data.type] ++;\n            }\n            this.entities_data = [EData];\n            this.relations_data = [RData];\n        },\n\n        ///////////////////////////////////此处为过滤代码///////////////////////////////////////\n        nodeFilter(){\n            let checkList = this.filter_node_checkList;\n            this.cy.nodes().forEach(val=>{\n                let hit = checkList.includes(val.data('type'));\n               if(hit&&!val.hasClass('removed')) {\n                   val.addClass('removed');\n               }else if(!hit&&val.hasClass('removed')){\n                   val.removeClass('removed');\n               }\n            });\n        },\n        edgeFilter(){\n            let checkList = this.filter_edge_checkList;\n            this.cy.edges().forEach(val=>{\n                let hit = checkList.includes(val.data('type'));\n                if(hit&&!val.hasClass('hidden')) {\n                    val.addClass('hidden');\n                }else if(!hit&&val.hasClass('hidden')){\n                    val.removeClass('hidden');\n                }\n            });\n        },\n        nodeDefilter(){\n            if(this.filter_node_checkList.length===0)return;\n            this.cy.nodes().forEach(val=>{\n                if(val.hasClass('removed')){\n                    val.removeClass('removed');\n                }\n            });\n            this.filter_node_checkList = [];\n        },\n        edgeDefilter(){\n            if(this.filter_edge_checkList.length===0)return;\n            this.cy.edges().forEach(val=>{\n                if(val.hasClass('hidden')){\n                    val.removeClass('hidden');\n                }\n            });\n            this.filter_edge_checkList = [];\n        },\n    },\n}\n"]}]}